(this.webpackJsonpmoments=this.webpackJsonpmoments||[]).push([[0],{143:function(e,t,a){e.exports={DropdownItem:"MoreDropdown_DropdownItem__2E4UM",Absolute:"MoreDropdown_Absolute__2RO70"}},145:function(e,t,a){e.exports={Book:"Book_Book__3BV26",Heart:"Book_Heart__1Kj85",HeartOutline:"Book_HeartOutline__1HoQq",Image:"Book_Image__2OhP7"}},146:function(e,t,a){e.exports={Container:"BookEditForm_Container__1Zc8w",TextFieldsContainer:"BookEditForm_TextFieldsContainer__AKyAm",EditContainer:"BookEditForm_EditContainer__19-PK"}},158:function(e,t,a){e.exports={Container:"CommentCreateEditForm_Container__36LFF",Image:"CommentCreateEditForm_Image__3__ms"}},159:function(e,t,a){e.exports={Owner:"Sticker_Owner__15N5v",Date:"Sticker_Date__266tL"}},160:function(e,t,a){e.exports={SearchBar:"CommentsPage_SearchBar__3hFcC",SearchIcon:"CommentsPage_SearchIcon__1yDzo"}},161:function(e,t,a){e.exports={SearchBar:"BooksPage_SearchBar__3kcR1",SearchIcon:"BooksPage_SearchIcon__3ITRm"}},179:function(e,t,a){e.exports={Avatar:"Avatar_Avatar__196lW"}},181:function(e,t,a){e.exports={Asset:"Asset_Asset__1dBcX"}},182:function(e,t,a){e.exports={Link:"ResumeText_Link__38fdU"}},184:function(e,t,a){e.exports={WordBreak:"Profile_WordBreak__3_YmI"}},185:function(e,t,a){e.exports={ProfileImage:"ProfilePage_ProfileImage__7dvRw",ProfileTextContent:"ProfilePage_ProfileTextContent__1KmbK",ProfileBioContent:"ProfilePage_ProfileBioContent__2eozZ",RowWidth:"ProfilePage_RowWidth__29lEz"}},188:function(e,t,a){e.exports={SearchBar:"BookmarkPage_SearchBar__1MfKW",SearchIcon:"BookmarkPage_SearchIcon__20LB5"}},189:function(e,t,a){e.exports={PageNotFound:"PageNotFound_PageNotFound__2cHW_"}},19:function(e,t,a){e.exports={Button:"Button_Button__27i9m",Wide:"Button_Wide__2ScDr",Blue:"Button_Blue__10GcT",BlueOutline:"Button_BlueOutline__YqCWO",Bright:"Button_Bright__1MBHR",Black:"Button_Black__2dCp7",BlackOutline:"Button_BlackOutline__I-kZ-"}},197:function(e,t,a){},23:function(e,t,a){e.exports={App:"App_App__16ZpL",Main:"App_Main__HQkvd",Content:"App_Content__ZaMNr",FillerImage:"App_FillerImage__2ob-g",Image:"App_Image__3UPXw"}},282:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(42),s=a.n(r),o=(a(197),a(24)),i=a(9),l=a(16),j=a(20),u=a(52),d=a(59),b=a(22),h=a.p+"static/media/logo.c337b411.png",O=a(33),p=a.n(O),m=a(14),x=a(34),v=a.n(x);v.a.defaults.baseURL="/api",v.a.defaults.headers.post["Content-Type"]="multipart/form-data",v.a.defaults.withCredentials=!0;var f=v.a.create(),g=v.a.create(),k=a(133),C=a(8),w=a(176),N=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t,a){var n,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get(t.next);case 3:n=e.sent,c=n.data,a((function(e){return Object(C.a)(Object(C.a)({},e),{},{next:c.next,results:c.results.reduce((function(e,t){return e.some((function(e){return e.id===t.id}))?e:[].concat(Object(k.a)(e),[t])}),e.results)})})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),A=function(e,t,a){return e.id===t.id?Object(C.a)(Object(C.a)({},e),{},{followers_count:e.followers_count+1,following_id:a}):e.is_owner?Object(C.a)(Object(C.a)({},e),{},{following_count:e.following_count+1}):e},B=function(e,t){return e.id===t.id?Object(C.a)(Object(C.a)({},e),{},{followers_count:e.followers_count-1,following_id:null}):e.is_owner?Object(C.a)(Object(C.a)({},e),{},{following_count:e.following_count-1}):e},I=function(e){var t=Object(w.a)(null===e||void 0===e?void 0:e.refresh_token).exp;localStorage.setItem("refreshTokenTimestamp",t)},y=function(){localStorage.removeItem("refreshTokenTimestamp")},_=a(0),S=Object(n.createContext)(),E=Object(n.createContext)(),M=function(){return Object(n.useContext)(S)},F=function(){return Object(n.useContext)(E)},L=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(m.a)(a,2),r=c[0],s=c[1],j=Object(o.useHistory)(),u=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("dj-rest-auth/user/");case 3:t=e.sent,a=t.data,s(a),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){u()}),[]),Object(n.useMemo)((function(){f.interceptors.request.use(function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("refreshTokenTimestamp")){e.next=11;break}return e.prev=1,e.next=4,v.a.post("/dj-rest-auth/token/refresh/");case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),s((function(e){return e&&j.push("/signin"),null})),y(),e.abrupt("return",t);case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),g.interceptors.response.use((function(e){return e}),function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==(null===(a=t.response)||void 0===a?void 0:a.status)){e.next=11;break}return e.prev=1,e.next=4,v.a.post("/dj-rest-auth/token/refresh/");case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),s((function(e){return e&&j.push("/signin"),null})),y();case 10:return e.abrupt("return",v()(t.config));case 11:return e.abrupt("return",Promise.reject(t));case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}())}),[j]),Object(_.jsx)(S.Provider,{value:r,children:Object(_.jsx)(E.Provider,{value:s,children:t})})},Q=a(179),G=a.n(Q),P=function(e){var t=e.src,a=e.height,n=void 0===a?45:a,c=e.text;return Object(_.jsxs)("span",{children:[Object(_.jsx)("img",{className:G.a.Avatar,src:t,height:n,width:n,alt:"avatar"}),c]})},D=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],c=t[1],r=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=function(e){r.current&&!r.current.contains(e.target)&&c(!1)};return document.addEventListener("mouseup",e),function(){document.removeEventListener("mouseup",e)}}),[r]),{expanded:a,setExpanded:c,ref:r}},W=a(18),T=function(){var e=M(),t=F(),a=D(),n=a.expanded,c=a.setExpanded,r=a.ref,s=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("dj-rest-auth/logout/");case 3:t(null),y(),W.NotificationManager.info("You are now signed out"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),W.NotificationManager.error("There was an issue signing you out","Error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),o=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(j.c,{exact:!0,className:"sm-screen ".concat(p.a.NavLink),activeClassName:p.a.Active,to:"/",children:[Object(_.jsx)("i",{className:"fas fa-home"}),"Home"]}),Object(_.jsxs)(j.c,{exact:!0,className:p.a.NavLink,activeClassName:p.a.Active,to:"/comments/create",children:[Object(_.jsx)("i",{className:"fas fa-plus-circle"}),Object(_.jsx)("span",{className:"d-none d-md-inline",children:"Comment"})]}),Object(_.jsxs)(j.c,{className:"sm-screen ".concat(p.a.NavLink),activeClassName:p.a.Active,to:"/books",children:[Object(_.jsx)("i",{className:"fas fa-book"}),"Books"]}),Object(_.jsxs)(j.c,{className:"sm-screen ".concat(p.a.NavLink),activeClassName:p.a.Active,to:"/bookmarks",children:[Object(_.jsx)("i",{className:"fas fa-bookmark"}),"Bookmarks"]}),Object(_.jsxs)(j.c,{className:"sm-screen ".concat(p.a.NavLink),activeClassName:p.a.Active,to:"/feed",children:[Object(_.jsx)("i",{className:"fas fa-rss"}),"Feed"]}),Object(_.jsxs)(j.c,{className:"sm-screen ".concat(p.a.NavLink),activeClassName:p.a.Active,to:"/liked",children:[Object(_.jsx)("i",{className:"fas fa-heart"}),"Liked"]}),Object(_.jsxs)(j.c,{className:p.a.NavLink,to:"/",onClick:s,children:[Object(_.jsx)("i",{className:"fas fa-sign-out-alt"}),"Sign out"]}),Object(_.jsx)(j.c,{className:p.a.NavLink,to:"/profiles/".concat(null===e||void 0===e?void 0:e.profile_id),children:Object(_.jsx)(P,{src:null===e||void 0===e?void 0:e.profile_image,text:"Profile",height:40})})]}),O=Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(j.c,{className:p.a.NavLink,to:"/profiles/".concat(null===e||void 0===e?void 0:e.profile_id),children:Object(_.jsx)(P,{src:null===e||void 0===e?void 0:e.profile_image,text:"Profile",height:40})})}),m=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(j.c,{className:p.a.NavLink,activeClassName:p.a.Active,to:"/signin",children:[Object(_.jsx)("i",{className:"fas fa-sign-in-alt"}),"Sign in"]}),Object(_.jsxs)(j.c,{to:"/signup",className:p.a.NavLink,activeClassName:p.a.Active,children:[Object(_.jsx)("i",{className:"fas fa-user-plus"}),"Sign up"]})]});return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(d.a,{expanded:n,className:p.a.NavBar,expand:"lg",fixed:"top",children:Object(_.jsxs)(b.a,{children:[Object(_.jsx)(j.c,{to:"/",children:Object(_.jsx)(d.a.Brand,{children:Object(_.jsx)("img",{src:h,alt:"logo",height:"45"})})}),Object(_.jsx)(d.a.Toggle,{ref:r,onClick:function(){return c(!n)},"aria-controls":"basic-navbar-nav"}),Object(_.jsx)(d.a.Collapse,{id:"basic-navbar-nav",className:"sm-screen",children:Object(_.jsx)(u.a,{className:"ml-auto text-left",children:e?o:m})})]})}),Object(_.jsx)(d.a,{expanded:n,className:p.a.NavBarLarge,expand:"lg",fixed:"top",children:Object(_.jsxs)(b.a,{children:[Object(_.jsx)(j.c,{to:"/",children:Object(_.jsx)(d.a.Brand,{children:Object(_.jsx)("img",{src:h,alt:"logo",height:"45"})})}),Object(_.jsx)(d.a.Toggle,{ref:r,onClick:function(){return c(!n)},"aria-controls":"basic-navbar-nav"}),Object(_.jsx)(d.a.Collapse,{id:"basic-navbar-nav",className:"sm-screen",children:Object(_.jsx)(u.a,{className:"ml-auto text-left",children:e?O:m})})]})})]})},R=a(46),Z=a.n(R),Y=function(){var e=M(),t=F(),a=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("dj-rest-auth/logout/");case 3:t(null),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),n=Object(_.jsx)(u.a.Item,{children:Object(_.jsxs)(j.c,{exact:!0,className:Z.a.NavLink,activeClassName:Z.a.Active,to:"/comments/create",children:[Object(_.jsx)("i",{className:"fas fa-plus-circle"}),Object(_.jsx)("span",{className:"d-none d-md-inline",children:"Comment"})]})});return Object(_.jsx)(d.a,{className:Z.a.SideNavBar,children:Object(_.jsx)(b.a,{children:Object(_.jsxs)(u.a,{className:"ml-auto flex-column",children:[Object(_.jsx)(u.a.Item,{children:Object(_.jsxs)(j.c,{exact:!0,className:Z.a.NavLink,activeClassName:Z.a.Active,to:"/",children:[Object(_.jsx)("i",{className:"fas fa-home"}),Object(_.jsx)("span",{className:"d-none d-md-inline",children:"Home"})]})}),e&&n,Object(_.jsx)(u.a.Item,{children:Object(_.jsxs)(j.c,{className:Z.a.NavLink,activeClassName:Z.a.Active,to:"/books",children:[Object(_.jsx)("i",{className:"fas fa-book"}),Object(_.jsx)("span",{className:"d-none d-md-inline",children:"Books"})]})}),Object(_.jsx)(u.a.Item,{children:Object(_.jsxs)(j.c,{className:Z.a.NavLink,activeClassName:Z.a.Active,to:"/bookmarks",children:[Object(_.jsx)("i",{className:"fas fa-bookmark"}),Object(_.jsx)("span",{className:"d-none d-md-inline",children:"Bookmarks"})]})}),Object(_.jsx)(u.a.Item,{children:Object(_.jsxs)(j.c,{className:Z.a.NavLink,activeClassName:Z.a.Active,to:"/feed",children:[Object(_.jsx)("i",{className:"fas fa-rss"}),Object(_.jsx)("span",{className:"d-none d-md-inline",children:"Feed"})]})}),Object(_.jsx)(u.a.Item,{children:Object(_.jsxs)(j.c,{className:Z.a.NavLink,activeClassName:Z.a.Active,to:"/liked",children:[Object(_.jsx)("i",{className:"fas fa-heart"})," ",Object(_.jsx)("span",{className:"d-none d-md-inline",children:"Liked"})]})}),Object(_.jsx)(u.a.Item,{children:Object(_.jsxs)(j.c,{className:Z.a.NavLink,to:"/",onClick:a,children:[Object(_.jsx)("i",{className:"fas fa-sign-out"})," ",Object(_.jsx)("span",{className:"d-none d-md-inline",children:"Sign Out"})]})})]})})})},H=a(5),V=function(e){var t=Object(o.useHistory)();Object(n.useEffect)((function(){var a=function(){var a=Object(l.a)(Object(i.a)().mark((function a(){return Object(i.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.a.post("/dj-rest-auth/token/refresh/");case 3:"loggedIn"===e&&t.push("/"),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),"loggedOut"===e&&t.push("/");case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(){return a.apply(this,arguments)}}();a()}),[t,e])},U=V,z=a(66),K=a(17),X=a(27),J=a(6),q=a(29),$=a(25),ee=a.p+"static/media/signup.2c74bb02.webp",te=a(23),ae=a.n(te),ne=a(45),ce=a.n(ne),re=a(19),se=a.n(re),oe=function(){var e,t,a,c,r=Object(n.useState)({}),s=Object(m.a)(r,2),u=s[0],d=s[1],h=Object(o.useHistory)();U("loggedIn");var O=Object(n.useState)({username:"",password1:"",password2:""}),p=Object(m.a)(O,2),x=p[0],f=p[1],g=x.username,k=x.password1,w=x.password2,N=function(e){f(Object(C.a)(Object(C.a)({},x),{},Object(H.a)({},e.target.name,e.target.value)))},A=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,v.a.post("/dj-rest-auth/registration/",x);case 4:h.push("/signin"),W.NotificationManager.success("Account created successfully","Success!"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),d(null===(a=e.t0.response)||void 0===a?void 0:a.data),W.NotificationManager.error("There was an issue with sign up","Error");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)(X.a,{className:ce.a.Row,children:[Object(_.jsxs)(K.a,{className:"my-auto py-2 p-md-2",md:6,children:[Object(_.jsxs)(b.a,{className:"".concat(ae.a.Content," p-4 "),children:[Object(_.jsx)("h1",{className:ce.a.Header,children:"sign up"}),Object(_.jsxs)(J.a,{onSubmit:A,children:[Object(_.jsxs)(J.a.Group,{controlId:"username",children:[Object(_.jsx)(J.a.Label,{className:"d-none",children:"username"}),Object(_.jsx)(J.a.Control,{className:ce.a.Input,type:"text",placeholder:"Username",name:"username",value:g,onChange:N})]}),null===(e=u.username)||void 0===e?void 0:e.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsxs)(J.a.Group,{controlId:"password1",children:[Object(_.jsx)(J.a.Label,{className:"d-none",children:"Password"}),Object(_.jsx)(J.a.Control,{className:ce.a.Input,type:"password",placeholder:"Password",name:"password1",value:k,onChange:N})]}),null===(t=u.password1)||void 0===t?void 0:t.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsxs)(J.a.Group,{controlId:"password2",children:[Object(_.jsx)(J.a.Label,{className:"d-none",children:"Confirm password"}),Object(_.jsx)(J.a.Control,{className:ce.a.Input,type:"password",placeholder:"Confirm password",name:"password2",value:w,onChange:N})]}),null===(a=u.password2)||void 0===a?void 0:a.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsx)(q.a,{className:"".concat(se.a.Button," ").concat(se.a.Wide," ").concat(se.a.Bright),type:"submit",children:"Sign up"}),null===(c=u.non_field_errors)||void 0===c?void 0:c.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",className:"mt-3",children:e},t)}))]})]}),Object(_.jsx)(b.a,{className:"mt-3 ".concat(ae.a.Content),children:Object(_.jsxs)(j.b,{className:ce.a.Link,to:"/signin",children:["Already have an account? ",Object(_.jsx)("span",{children:"Sign in"})]})})]}),Object(_.jsx)(K.a,{md:6,className:"my-auto d-none d-md-block p-2 ".concat(ce.a.SignUpCol),children:Object(_.jsx)(z.a,{className:"".concat(ae.a.FillerImage),src:ee})})]})},ie=a.p+"static/media/login.4b4bced2.webp",le=function(){var e,t,a,c=F(),r=Object(n.useState)({}),s=Object(m.a)(r,2),u=s[0],d=s[1],h=Object(o.useHistory)();U("loggedIn");var O=Object(n.useState)({username:"",password:""}),p=Object(m.a)(O,2),x=p[0],f=p[1],g=x.username,k=x.password,w=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,v.a.post("/dj-rest-auth/login/",x);case 4:a=e.sent,n=a.data,c(n.user),I(n),h.goBack(),W.NotificationManager.success("Welcome "+g+". You are now signed in","Success!"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),d(null===(r=e.t0.response)||void 0===r?void 0:r.data),W.NotificationManager.error("There was an issue logging you in","Error");case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),N=function(e){f(Object(C.a)(Object(C.a)({},x),{},Object(H.a)({},e.target.name,e.target.value)))};return Object(_.jsxs)(X.a,{className:ce.a.Row,children:[Object(_.jsxs)(K.a,{className:"my-auto p-0 p-md-2",md:6,children:[Object(_.jsxs)(b.a,{className:"".concat(ae.a.Content," p-4 "),children:[Object(_.jsx)("h1",{className:ce.a.Header,children:"sign in"}),Object(_.jsxs)(J.a,{onSubmit:w,children:[Object(_.jsxs)(J.a.Group,{controlId:"username",children:[Object(_.jsx)(J.a.Label,{className:"d-none",children:"Username"}),Object(_.jsx)(J.a.Control,{type:"text",placeholder:"Username",name:"username",className:ce.a.Input,value:g,onChange:N})]}),null===(e=u.username)||void 0===e?void 0:e.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsxs)(J.a.Group,{controlId:"password",children:[Object(_.jsx)(J.a.Label,{className:"d-none",children:"Password"}),Object(_.jsx)(J.a.Control,{type:"password",placeholder:"Password",name:"password",className:ce.a.Input,value:k,onChange:N})]}),null===(t=u.password)||void 0===t?void 0:t.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsx)(q.a,{className:"".concat(se.a.Button," ").concat(se.a.Wide," ").concat(se.a.Bright),type:"submit",children:"Sign in"}),null===(a=u.non_field_errors)||void 0===a?void 0:a.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",className:"mt-3",children:e},t)}))]})]}),Object(_.jsx)(b.a,{className:"mt-3 ".concat(ae.a.Content),children:Object(_.jsxs)(j.b,{className:ce.a.Link,to:"/signup",children:["Don't have an account? ",Object(_.jsx)("span",{children:"Sign up now!"})]})})]}),Object(_.jsx)(K.a,{md:6,className:"my-auto d-none d-md-block p-2 ".concat(ce.a.SignInCol),children:Object(_.jsx)(z.a,{className:"".concat(ae.a.FillerImage),src:ie})})]})},je=a(35),ue=a(162),de=a(291),be=a(294),he="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAvUSURBVHgB7Z17bFvVHce/5z78aBynL0hhNhIrjD7SIVSNklRMMFrIXpq0lFZMk9BQKybxBx3pJm0SlIf2YFtZ2X9bp6KxaRAgk6ZNWroKDQ01KS+NsqYUaBmd3Ue2PpLYiR3fx9n5Xcc314mdxI3vtdPcj2Tdpx3n9z3n9/udx/VhmCOcc3YnIJ8A1KUDkMIpyGMKJEMC02RIDSy/db5HzUJGHaKFYDiPc/rEcUiDkWuArpjgo83QY4Dxd/FijHHMAYYKIYPHxfdZ/gmCZhiBejWmZ6jQjBz0sIKxWAy5lxkzKnn7rAVYw3kgchqNho4AfMoyoiC3hGO0L84ys7l/RgF8w18eQeG+BrMYPNbCctPdN60A69/mTViORfC5bNJZpD9YxVLlrpcUgPz8htNY6pf66jCSQe74KlxEiYAtlXqDb/zq0iCSlVXHsbTUtSkCbDzOfX/vAiTCDR/x6OTzRQJQwM2GEIGPKzSpaFhzlBcV7iIBFp/EYvi4iimj0XlsC9Ca4GHRgl3YjSoPIFfkrAW2AAbz002vcNYCS4B7OZf9wOsdVAtErm81ASwBkknf+F4TSyJEW0uAjI4gfDyluSFf6C0BmC769Hw8RbuYL/QSdnNJUqHAx1NUyjhFHJDWf9VPPWvFHWIgS7qwzBegVpxIQpWiYV+AWtEshm0lXap8WNKnOoQCwgWF/e6HmpGVISnyKJSKRpFdRnv9TFQ/8b8m7cxwvHAu/PmVR9Xbrx3GFYbo/mHs1iRfVstuCDJ45h8nW8zTqa1mzmyDyWOl7mMShrks9SvLQl2BdSt6Q/etTWKek5ExVjMByPAj3f07eDq7g5uIVvp+aZHSFdp43Z65CKHl0AaO7eLVwhiinGNYRMSj4tWjBvASXCalQmOfPcGvVj2OA8M/eHWr8d/RJ0sZPta8CKtvaEQ0km+cD6c1nD6XwbGTpT2QFAnsU+5dtydSgYvSTcR5DnuFoVvL3sSQkELokE24VtM0XXghLwWgUp968b0nkdG2Os/fdvMybN64Ah3t1yHaUL5RfvjIeXQfSIpXoug8k1ki/IXrO2ZTG0wDa00d3WJ0fFa1jinoUGT0wQU8FYCMn/7du69w3WgpnCPDP3z/TdggtpWQHMjg2d9+UCwEw5Cy7qot0Z239Zd7n1XydbwiXE4cs0V8rqgJm92oCZ4JUMr4jz7Ugm99/XrMBRLiG4/0InluNH9iBhH0MewVJX/rlAscPSLI77N2OXaITbvzsrjWpaj4DqqMJcD6T/g1cJnBh3r2muNuh3z7r578XMWlvhwkwoOPvon3CzFCiLBo06c3l3JHIui+UaL0J9QgNjhP6FkcFMMla+0T4jNFd+UGVWRiqDISXGao8+AO0+Hz//BMW9WMT8Saw3hBfObqleMunaMp89qpvZPvG894SrmeKdmOyVBcg8Rnii77NriAqwJkfn8kbg6PbS8ck9tZs7LijHNGrFr11K1ojOQDONeMtsFdB7c772Flgq5wSVMyIVZCqNkG7UpxVYCxvrOd3ODWP9NxT3zOPn86qCb87Hu32MfmpWxnWsSewrFIeZtKvU8I06Zp6KR9TUVUp/0S6em8E8Aq/Q7XQ9mO29wtUlnbvQm3of+p3/77XBUNrHKY6BQB+jhL400hVGepW4ShymZXc8E1AbRj5+1SRKWfSqgXPHz/Z+x9ntLsbCYgo1+UdjuIihLdK16U+ewRrx4q4dOVcq7MMwH0C9lthf0t98w+7Z4rt928vCgWZJ/vd/Yt7RvfdgWC2CJeu0UGtEe8HhDiUCaUKPOxXW5kQIR7MUAzrRpAAbKaWc9s2HL3hOCZ/nN29qKqlgAJ4ePbdaPYzytBJAIqNmOqCAlJsWqJK7giwPAPX7f/aTeynplYc8NEvOUZ3c7nuSjFoqRvEf5nWLSIu0XA/YUhIVZ0nWF34VhkQ8OihfqALLvXH+TObIicaVt99comeM1qp+g5vcj/UUkXAXeL8PdPiIC7jWewzeToF8ckTlzUDksQihGSip2Si8a3vg9cwMhpttWjEe9nvBR6UglRiqdUQRJBbB7Qc2gVxm+X8q3euLD6kDD8X6V8d7QrHXBTvgtcQMoZ0cIoW2xF/c75VfJG9sTQ5XAlBpgB2c4Y7I4yn5K4IoAcUIcK+8NpHV7jFF10qtX1WLIrAqg3LrYbLe+fHILXFI2eBZQE6hhXBAh/8+YEGy95ZAyva8Eb756391lUramPnwnXGmIsKPfSlsZ0Dx46Cy85/N4Fe1+9Z1Uv6hjXBJCuarD72SeP4brJK+JvpcZrHFOl3kidzydyTYDwpht7C27o8JELeOPIBXgBjRXbLA65PrVkrrgmAM1kY42BQucXdj39T9djwV5h/NMD4z9SIrHEkqfvWrgCEA0d6/aRIWj/tDWT4Tjc4tiJIfzy+Q/tYxZregzzAFcFoFqgrFyys3D83B//LUT4ENWG8v4HH3tr4kQk+Oslj99+APMA1wflo9/f2Cc1BX9eOH72+Q+qKgKV/Pse6S1yPYGvtTyDeYJ87c7HG+EyofaVfWOvneJ8zLC6qSkgU/vgltVLijrOKmV/98f49u63kRpxxBaawTCQ+ii46fpjmAd4IgAxWYSPE2n87dA5K2WMrQhXJMRh0dD67k/fxQt/OVXyujmS+6LWd+Y/80EETyZmORnc9ep2fml0F3d0Ezc2KNaA+t0br8GnhBjOARWCGnPkaiidfU6U+qISD8r35V4afpz8t5SrIw9Hf3Lny6hjPBeASD13JK69dbYTWW1ruXtoljQxlM5NMbiN8PfsmqbHljx1+wGaca2fG50yIaveRaiJAAWGf3yoVU+ktk0nRCmohYuIckD90rquyF0TLd35KEJNBShANUI/fr6Vp7Q2ZhgxrpstKLgoak1LbEiSpX7eIPfJyyNHKbMq91kziUCTr1Stfrqo60KAalNOhEU7W3vkVcvXuv3gRSW43g6oBdEf3fWSsmLRTue54FdugnzT8naaoGtm0e2cDVFLrkgBCKcIZPzAlydmzNWTCHXlgnIG1sJAHDISNJUQVSD73vn9VskvhQfPgc1EXdQAenSIHp5gOg4yjv201cawf64llJmICuOvLXtDHdSEmgvgfG6LZqLRa/xSuzDOfswBmulG0w3FZ5avTTUWoeYCCOO3Wk+uMAwxFZuUEFYxID+MyNEyeQ5nxZ8vRFAD6KhXEWovAJ949KcwB5M7p5FX4dGgehah5gKI0p6ftyJ6MSkOaMIILC+KNZDDGaoyr6VeRZA0HTX9rQ6moMc+oDgg4V/khhDBZspSRK3oQZWoNxHI9jWvAfQUusSQH7Ch53wDeNx6onFUBGagq9pTwysRQTPh+tz6uvixPjmAZ8wcksIoW4ULOkglX7im3YpLM5QLIgihu4ueB3YgvkuvIrnfZ1STH+uoF6idUEoEIX6XEqz+k/GTsVyQzDGnZZjmM6XckVfGJ/QgdEkNw8QCximCl8YvoMiD4MYCX7KBRBCZ12Yvgu5kpNy1qKefjKspquTtQE24QcQA5cLCjQG1JkNBONPo14BaEdZgShe1hR2Ea8mQcP9S8wC8f4jLx4JWZJXe+bPvgmrFayQAnmBmrTvkFiL0m6G0tKHVGacuxRh8PKUxKwTA+HjAwAhy8PGUgUDe5vlVlH7j1wCvSfblBbDXDrj1fb7MCPvLWXkB/Wj3sTi7SPv2gEzaQAo+niD6O+zlzm0BaOltOePHArehjDPpWG++aEjSrwXuo2cx6DwuEoBqgaJhBD6ukEkjRTZ2niu5gI8fkKuPM/A6KTkr4s0XccmPB9XDMn4Ml0pdm3YJqzuO8kgqAk+eorxSCTUgfegqVja2zriGGK3+LIbrFi/UmROXC5V6DCE92edPZtaLuMUSPBwXYwg5w1/6djpma/gCla+i9xKXY60INOdEkA6B+vQW9FK4Jk0tGUWO+naSMWSph7OS9899GUPO2fp3oNCioJkw5GUSWDgFORCYcFnZSe5LGqvP5XPJmM5jyQQPmDDTtNVhhqIwTxgwVTGKSANZ76wX91do8Mn8H2pD537fbQPNAAAAAElFTkSuQmCC",Oe=a(290),pe=a(181),me=a.n(pe),xe=function(e){var t=e.spinner,a=e.src,n=e.message;return Object(_.jsxs)("div",{className:"".concat(me.a.Asset," p-4"),children:[t&&Object(_.jsx)(Oe.a,{animation:"border"}),a&&Object(_.jsx)("img",{src:a,alt:n}),n&&Object(_.jsx)("p",{className:"mt-4",children:n})]})},ve=a(158),fe=a.n(ve),ge=function(){var e,t;V("loggedOut");var a=Object(n.useState)({}),c=Object(m.a)(a,2),r=c[0],s=c[1],o=Object(n.useState)(""),j=Object(m.a)(o,2),u=j[0],d=j[1],h=Object(n.useState)({results:[]}),O=Object(m.a)(h,2),p=O[0],x=O[1],v=Object(n.useState)(""),g=Object(m.a)(v,2),k=g[0],w=g[1],N=Object(n.useState)(""),A=Object(m.a)(N,2),B=A[0],I=A[1],y=Object(n.useState)({book:"",comment:""}),S=Object(m.a)(y,2),E=S[0],F=S[1],L=E.book,Q=E.comment,G=Object(je.useHistory)(),P=Object(je.useParams)().id,D=M();Object(n.useEffect)((function(){D||G.push("/");var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get(P?"/books/".concat(P):"/books/?search=".concat(u,"&ordering=auth"));case 3:t=e.sent,a=t.data,P?(x({results:[a]}),F(Object(C.a)(Object(C.a)({},E),{},{book:a.id})),I("".concat(a.auth," - ").concat(a.title)),w(a.cover)):x(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[u,P]);var T=function(e){F(Object(C.a)(Object(C.a)({},E),{},Object(H.a)({},e.target.name,e.target.value)))},R=function(e){F(Object(C.a)(Object(C.a)({},E),{},{book:e.target.value})),I(e.target.textContent);var t=p.results.filter((function(t){return t.id===parseInt(e.target.value)}));w(t[0].cover)},Z=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,n,c,r,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("book",L),a.append("comment",Q),e.prev=4,e.next=7,f.post("/comments/",a);case 7:n=e.sent,c=n.data,G.push("/comments/".concat(c.id)),W.NotificationManager.success("Comment Created","Success!"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0),401!==(null===(r=e.t0.response)||void 0===r?void 0:r.status)&&(s(null===(o=e.t0.response)||void 0===o?void 0:o.data),W.NotificationManager.error("There was an issue adding your comment","Error"));case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),Y=Object(_.jsxs)("div",{className:"text-center",children:[Object(_.jsxs)(de.a,{children:[Object(_.jsx)(be.a.Img,{src:k,alt:"book cover",className:"mr-3 ".concat(fe.a.Image)}),Object(_.jsxs)(de.a.Body,{className:"text-left",children:[Object(_.jsxs)(J.a.Group,{children:[Object(_.jsx)(J.a.Label,{children:"Book"}),Object(_.jsx)(J.a.Control,{type:"text",name:"book",value:B,onChange:T,placeholder:"Select the book to comment",disabled:!0})]}),Object(_.jsxs)(J.a.Group,{children:[Object(_.jsx)(J.a.Label,{children:"Comment"}),Object(_.jsx)(J.a.Control,{as:"textarea",rows:6,name:"comment",value:Q,onChange:T})]}),null===r||void 0===r||null===(e=r.comment)||void 0===e?void 0:e.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)}))]})]}),Object(_.jsx)(q.a,{className:"".concat(se.a.Button," ").concat(se.a.Blue),onClick:function(){return G.goBack()},children:"cancel"}),Object(_.jsx)(q.a,{className:"".concat(se.a.Button," ").concat(se.a.Blue),type:"submit",children:"create"})]});return Object(_.jsx)(_.Fragment,{children:E.book?Object(_.jsx)(J.a,{onSubmit:Z,children:Object(_.jsx)(X.a,{children:Object(_.jsx)(K.a,{children:Object(_.jsx)(b.a,{className:ae.a.Content,children:Y})})})}):Object(_.jsxs)(J.a,{className:fe.a.SearchBar,onSubmit:function(e){return e.preventDefault()},children:[Object(_.jsx)(J.a.Control,{value:u,onChange:function(e){return d(e.target.value)},type:"text",className:"mr-sm-2",placeholder:"Select the book to comment"}),null!==(t=p.results)&&void 0!==t&&t.length?Object(_.jsx)(ue.a,{variant:"flush",children:p.results.map((function(e){return Object(_.jsx)(ue.a.Item,{option:e.id,value:e.id,action:!0,onClick:R,children:"".concat(e.auth," - ").concat(e.title)},e.id)}))}):!P&&!u&&Object(_.jsx)(b.a,{className:ae.a.Content,children:Object(_.jsx)(xe,{src:he,message:"No results found!"})})]})})},ke=a(293),Ce=a(292),we=a(53),Ne=a(143),Ae=a.n(Ne),Be=c.a.forwardRef((function(e,t){var a=e.onClick;return Object(_.jsx)("i",{className:"fas fa-ellipsis-v",ref:t,onClick:function(e){e.preventDefault(),a(e)}})})),Ie=function(e){var t=e.handleEdit,a=e.handleDelete;return Object(_.jsxs)(we.a,{className:"ml-auto",drop:"left",children:[Object(_.jsx)(we.a.Toggle,{as:Be}),Object(_.jsxs)(we.a.Menu,{className:"text-center",popperConfig:{strategy:"fixed"},children:[Object(_.jsx)(we.a.Item,{className:Ae.a.DropdownItem,onClick:t,"aria-label":"edit",children:Object(_.jsx)("i",{className:"fas fa-edit"})}),Object(_.jsx)(we.a.Item,{className:Ae.a.DropdownItem,onClick:a,"aria-label":"delete",children:Object(_.jsx)("i",{className:"fas fa-trash-alt"})})]})]})};function ye(e){var t=e.id,a=Object(o.useHistory)();return Object(_.jsxs)(we.a,{className:"ml-auto px-3 ".concat(Ae.a.Absolute),drop:"left",children:[Object(_.jsx)(we.a.Toggle,{as:Be}),Object(_.jsxs)(we.a.Menu,{children:[Object(_.jsxs)(we.a.Item,{onClick:function(){return a.push("/profiles/".concat(t,"/edit"))},"aria-label":"edit-profile",children:[Object(_.jsx)("i",{className:"fas fa-edit"})," edit profile"]}),Object(_.jsxs)(we.a.Item,{onClick:function(){return a.push("/profiles/".concat(t,"/edit/username"))},"aria-label":"edit-username",children:[Object(_.jsx)("i",{className:"far fa-id-card"}),"change username"]}),Object(_.jsxs)(we.a.Item,{onClick:function(){return a.push("/profiles/".concat(t,"/edit/password"))},"aria-label":"edit-password",children:[Object(_.jsx)("i",{className:"fas fa-key"}),"change password"]})]})]})}var _e=a(182),Se=a.n(_e),Ee=function(e){var t=e.text,a=e.size,c=void 0===a?300:a,r=Object(n.useState)(t.slice(0,c)),s=Object(m.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(t.length>c),j=Object(m.a)(l,2),u=j[0],d=j[1];return Object(_.jsxs)(_.Fragment,{children:[o,u&&"...",u&&Object(_.jsx)("span",{className:Se.a.Link,onClick:function(){i(t),d(!u)},children:"Continue reading"})]})},Me=a(94),Fe=a.n(Me),Le=function(e){var t=e.id,a=e.owner,n=e.comment,c=e.profile_id,r=e.profile_image,s=e.book,o=e.book_cover,u=e.book_title,d=e.book_auth,b=e.updated_on,h=e.like_id,O=e.likes_count,p=e.stickers_count,m=e.setComments,x=M(),v=(null===x||void 0===x?void 0:x.username)===a,f=Object(je.useHistory)(),k=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/comments/".concat(t,"/"));case 3:W.NotificationManager.info("Comment Removed"),f.goBack(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),W.NotificationManager.error("There was an issue deleting your comment","Error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var a,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/likes/",{comment:t});case 3:a=e.sent,n=a.data,m((function(e){return Object(C.a)(Object(C.a)({},e),{},{results:e.results.map((function(e){return e.id===t?Object(C.a)(Object(C.a)({},e),{},{likes_count:e.likes_count+1,like_id:n.id}):e}))})})),W.NotificationManager.info("Comment liked"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),W.NotificationManager.error("There was an issue adding a like to your comment","Error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/likes/".concat(h));case 3:m((function(e){return Object(C.a)(Object(C.a)({},e),{},{results:e.results.map((function(e){return e.id===t?Object(C.a)(Object(C.a)({},e),{},{likes_count:e.likes_count-1,like_id:null}):e}))})})),W.NotificationManager.info("Comment Unliked"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),W.NotificationManager.error("There was an issue adding unlike to your comment","Error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)(be.a,{className:Fe.a.Comment,children:[Object(_.jsx)(be.a.Body,{children:Object(_.jsxs)(de.a,{className:"align-items-center justify-content-between",children:[Object(_.jsxs)(j.b,{to:"/profiles/".concat(c),children:[Object(_.jsx)(P,{src:r,height:40}),a]}),Object(_.jsxs)("div",{className:"d-flex align-items-center",children:[Object(_.jsx)("span",{children:b}),v&&Object(_.jsx)(Ie,{handleEdit:function(){f.push("/comments/".concat(t,"/edit"))},handleDelete:k})]})]})}),Object(_.jsxs)(be.a.Body,{children:[Object(_.jsxs)(de.a,{children:[Object(_.jsx)(j.b,{to:"/books/".concat(s),children:Object(_.jsx)(be.a.Img,{src:o,alt:"Bookcover of ".concat(u),className:"mr-3 ".concat(Fe.a.Image)})}),Object(_.jsxs)(de.a.Body,{className:"text-left",children:[u&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(be.a.Title,{className:"text-left",children:u}),Object(_.jsxs)(be.a.Subtitle,{className:"mb-2 text-muted",children:["by ",d]})]}),n&&Object(_.jsx)(be.a.Text,{children:Object(_.jsx)(Ee,{text:n})})]})]}),Object(_.jsx)("hr",{}),Object(_.jsxs)(be.a.Text,{className:"text-center ".concat(Fe.a.CommentBar),children:[v?Object(_.jsx)(ke.a,{placement:"top",overlay:Object(_.jsx)(Ce.a,{children:"You can't like your own comments!"}),children:Object(_.jsx)("i",{className:"far fa-heart"})}):h?Object(_.jsx)("span",{onClick:N,children:Object(_.jsx)("i",{className:"fas fa-heart ".concat(Fe.a.Heart)})}):x?Object(_.jsx)("span",{onClick:w,children:Object(_.jsx)("i",{className:"far fa-heart ".concat(Fe.a.HeartOutline)})}):Object(_.jsx)(ke.a,{placement:"top",overlay:Object(_.jsx)(Ce.a,{children:"Log in to like comments!"}),children:Object(_.jsx)("i",{className:"far fa-heart"})}),O,Object(_.jsx)(j.b,{to:"/comments/".concat(t),children:Object(_.jsx)("i",{className:"far fa-comment-dots"})}),p]})]})]})},Qe=a(81),Ge=a.n(Qe);var Pe=function(e){var t=e.id,a=e.content,c=e.setShowEditForm,r=e.setStickers,s=Object(n.useState)(a),o=Object(m.a)(s,2),j=o[0],u=o[1],d=function(){var e=Object(l.a)(Object(i.a)().mark((function e(a){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,g.put("/stickers/".concat(t,"/"),{content:j.trim()});case 4:r((function(e){return Object(C.a)(Object(C.a)({},e),{},{results:e.results.map((function(e){return e.id===t?Object(C.a)(Object(C.a)({},e),{},{content:j.trim(),updated_on:"now"}):e}))})})),c(!1),W.NotificationManager.info("Sticker Updated"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),W.NotificationManager.error("There was an issue updating your sticker","Error");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)(J.a,{onSubmit:d,children:[Object(_.jsx)(J.a.Group,{className:"pr-1",children:Object(_.jsx)(J.a.Control,{className:Ge.a.Form,as:"textarea",value:j,onChange:function(e){u(e.target.value)},rows:2})}),Object(_.jsxs)("div",{className:"text-right",children:[Object(_.jsx)("button",{className:Ge.a.Button,onClick:function(){return c(!1)},type:"button",children:"cancel"}),Object(_.jsx)("button",{className:Ge.a.Button,disabled:!a.trim(),type:"submit",children:"save"})]})]})},De=a(159),We=a.n(De),Te=function(e){var t=e.profile_id,a=e.profile_image,c=e.owner,r=e.updated_on,s=e.content,o=e.id,u=e.setComment,d=e.setStickers,b=Object(n.useState)(!1),h=Object(m.a)(b,2),O=h[0],p=h[1],x=M(),v=(null===x||void 0===x?void 0:x.username)===c,f=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/stickers/".concat(o,"/"));case 3:u((function(e){return{results:[Object(C.a)(Object(C.a)({},e.results[0]),{},{stickers_count:e.results[0].stickers_count-1})]}})),d((function(e){return Object(C.a)(Object(C.a)({},e),{},{results:e.results.filter((function(e){return e.id!==o}))})})),W.NotificationManager.info("Sticker Removed"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),W.NotificationManager.error("There was an issue deleting your post","Error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("hr",{}),Object(_.jsxs)(de.a,{children:[Object(_.jsx)(j.b,{to:"/profiles/".concat(t),children:Object(_.jsx)(P,{src:a})}),Object(_.jsxs)(de.a.Body,{className:"align-self-center ml-2",children:[Object(_.jsx)("span",{className:We.a.Owner,children:c}),Object(_.jsx)("span",{className:We.a.Date,children:r}),O?Object(_.jsx)(Pe,{id:o,profile_id:t,content:s,profileImage:a,setStickers:d,setShowEditForm:p}):Object(_.jsx)("p",{children:s})]}),v&&!O&&Object(_.jsx)(Ie,{handleEdit:function(){return p(!0)},handleDelete:f})]})]})},Re=a(183);var Ze=function(e){U("loggedOut");var t=e.comment,a=e.setComment,c=e.setStickers,r=e.profileImage,s=e.profile_id,o=Object(n.useState)(""),u=Object(m.a)(o,2),d=u[0],b=u[1],h=function(){var e=Object(l.a)(Object(i.a)().mark((function e(n){var r,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,g.post("/stickers/",{content:d,comment:t});case 4:r=e.sent,s=r.data,c((function(e){return Object(C.a)(Object(C.a)({},e),{},{results:[s].concat(Object(k.a)(e.results))})})),a((function(e){return{results:[Object(C.a)(Object(C.a)({},e.results[0]),{},{stickers_count:e.results[0].stickers_count+1})]}})),b(""),W.NotificationManager.success("Sticker Created","Success!"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),W.NotificationManager.error("There was an issue creating your sticker","Error");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)(J.a,{className:"mt-2",onSubmit:h,children:[Object(_.jsx)(J.a.Group,{children:Object(_.jsxs)(Re.a,{children:[Object(_.jsx)(j.b,{to:"/profiles/".concat(s),children:Object(_.jsx)(P,{src:r})}),Object(_.jsx)(J.a.Control,{className:Ge.a.Form,placeholder:"my sticker...",as:"textarea",value:d,onChange:function(e){b(e.target.value)},rows:2})]})}),Object(_.jsx)("button",{className:"".concat(Ge.a.Button," btn d-block ml-auto"),disabled:!d.trim(),type:"submit",children:"add sticker"})]})},Ye=a(62),He=Object(n.createContext)(),Ve=Object(n.createContext)(),Ue=function(){return Object(n.useContext)(He)},ze=function(){return Object(n.useContext)(Ve)},Ke=function(e){var t=e.children,a=Object(n.useState)({pageProfile:{results:[]},popularProfiles:{results:[]}}),c=Object(m.a)(a,2),r=c[0],s=c[1],o=M(),j=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/followers/",{followed:t.id});case 3:a=e.sent,n=a.data,s((function(e){return Object(C.a)(Object(C.a)({},e),{},{pageProfile:{results:e.pageProfile.results.map((function(e){return A(e,t,n.id)}))},popularProfiles:Object(C.a)(Object(C.a)({},e.popularProfiles),{},{results:e.popularProfiles.results.map((function(e){return A(e,t,n.id)}))})})})),W.NotificationManager.success("Following user","Success!"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),W.NotificationManager.error("There was an issue following this user","Error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/followers/".concat(t.following_id,"/"));case 3:s((function(e){return Object(C.a)(Object(C.a)({},e),{},{pageProfile:{results:e.pageProfile.results.map((function(e){return B(e,t)}))},popularProfiles:Object(C.a)(Object(C.a)({},e.popularProfiles),{},{results:e.popularProfiles.results.map((function(e){return B(e,t)}))})})})),W.NotificationManager.info("Unfollowed user"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),W.NotificationManager.error("There was an issue unfollowing this user","Error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/profiles/?ordering=-followers_count");case 3:t=e.sent,a=t.data,s((function(e){return Object(C.a)(Object(C.a)({},e),{},{popularProfiles:a})})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[o]),Object(_.jsx)(He.Provider,{value:r,children:Object(_.jsx)(Ve.Provider,{value:{setProfileData:s,handleFollow:j,handleUnfollow:u},children:t})})},Xe=a(184),Je=a.n(Xe),qe=function(e){var t=e.profile,a=e.mobile,n=e.imageSize,c=void 0===n?55:n,r=t.id,s=t.following_id,o=t.image,i=t.owner,l=M(),u=(null===l||void 0===l?void 0:l.username)===i,d=ze(),b=d.handleFollow,h=d.handleUnfollow;return Object(_.jsxs)("div",{className:"my-3  mt-1  d-flex align-items-center ".concat(a&&"flex-column"),children:[Object(_.jsx)("div",{children:Object(_.jsx)(j.b,{className:"align-self-center",to:"/profiles/".concat(r),children:Object(_.jsx)(P,{src:o,height:c})})}),Object(_.jsx)("div",{className:"mx-2 ".concat(Je.a.WordBreak),children:Object(_.jsx)("strong",{children:i})}),Object(_.jsx)("div",{className:"text-right ".concat(!a&&"ml-auto"),children:!a&&l&&!u&&(s?Object(_.jsx)(q.a,{className:"".concat(se.a.Button," ").concat(se.a.BlackOutline),onClick:function(){return h(t)},children:"unfollow"}):Object(_.jsx)(q.a,{className:"".concat(se.a.Button," ").concat(se.a.Black),onClick:function(){return b(t)},children:"follow"}))})]})},$e=function(e){var t=e.mobile,a=Ue().popularProfiles;return Object(_.jsx)(b.a,{className:"".concat(ae.a.Content," ").concat(t&&"d-lg-none text-center mb-3"),children:a.results.length?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("p",{children:"Most followed profiles"}),Object(_.jsx)("hr",{}),t?Object(_.jsx)("div",{className:"d-flex justify-content-around",children:a.results.slice(0,4).map((function(e){return Object(_.jsx)(qe,{profile:e,mobile:!0},e.id)}))}):a.results.map((function(e){return Object(_.jsx)(qe,{profile:e},e.id)}))]}):Object(_.jsx)(xe,{spinner:!0})})},et=function(){var e=Object(o.useParams)().id,t=Object(n.useState)({results:[]}),a=Object(m.a)(t,2),c=a[0],r=a[1],s=M(),j=null===s||void 0===s?void 0:s.profile_image,u=Object(n.useState)({results:[]}),d=Object(m.a)(u,2),h=d[0],O=d[1];return Object(n.useEffect)((function(){var t=function(){var t=Object(l.a)(Object(i.a)().mark((function t(){var a,n,c,s;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([f.get("/comments/".concat(e)),f.get("/stickers/?comment=".concat(e))]);case 3:a=t.sent,n=Object(m.a)(a,2),c=n[0].data,s=n[1].data,r({results:[c]}),O(s),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(_.jsxs)(X.a,{className:"h-100",children:[Object(_.jsxs)(K.a,{className:"py-2 p-0 p-lg-2",lg:8,children:[Object(_.jsx)($e,{mobile:!0}),Object(_.jsx)(Le,Object(C.a)(Object(C.a)({},c.results[0]),{},{setComments:r,commentPage:!0})),Object(_.jsxs)(b.a,{className:ae.a.Content,children:[s?Object(_.jsx)(Ze,{profile_id:s.profile_id,profileImage:j,comment:e,setComment:r,setStickers:O}):h.results.length&&"Stickers",h.results.length?Object(_.jsx)(Ye.a,{children:h.results.map((function(e){return Object(_.jsx)(Te,Object(C.a)(Object(C.a)({},e),{},{setComment:r,setStickers:O}),e.id)})),dataLength:h.results.length,loader:Object(_.jsx)(xe,{spinner:!0}),hasMore:!!h.next,next:function(){return N(h,O)}}):s?Object(_.jsx)("span",{children:"No stickers yet, be the first to create a sticker!"}):Object(_.jsx)("span",{children:"No stickers... yet"})]})]}),Object(_.jsx)(K.a,{md:4,className:"d-none d-lg-block p-0 p-lg-2",children:Object(_.jsx)($e,{})})]})},tt=a(160),at=a.n(tt),nt=function(e){var t=e.message,a=e.filter,c=void 0===a?"":a,r=Object(n.useState)({results:[]}),s=Object(m.a)(r,2),j=s[0],u=s[1],d=Object(n.useState)(!1),h=Object(m.a)(d,2),O=h[0],p=h[1],x=Object(o.useLocation)().pathname,v=Object(n.useState)(""),g=Object(m.a)(v,2),k=g[0],w=g[1],A=M(),B=Object(je.useParams)().id;return c=c.includes("book=")?"book=".concat(B,"&"):c,Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/comments/?".concat(c,"search=").concat(k));case 3:t=e.sent,a=t.data,u(a),p(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();p(!1);var t=setTimeout((function(){e()}),1e3);return function(){clearTimeout(t)}}),[c,k,x,A]),Object(_.jsxs)(X.a,{className:"h-100",children:[Object(_.jsxs)(K.a,{className:"py-2 p-0 p-lg-2",lg:8,children:[Object(_.jsx)($e,{mobile:!0}),Object(_.jsx)("i",{className:"fas fa-search ".concat(at.a.SearchIcon)}),Object(_.jsx)(J.a,{className:at.a.SearchBar,onSubmit:function(e){return e.preventDefault()},children:Object(_.jsx)(J.a.Control,{value:k,onChange:function(e){return w(e.target.value)},type:"text",className:"mr-sm-2",placeholder:"Search comments"})}),O?Object(_.jsx)(_.Fragment,{children:j.results.length?Object(_.jsx)(Ye.a,{children:j.results.map((function(e){return Object(_.jsx)(Le,Object(C.a)(Object(C.a)({},e),{},{setComments:u}),e.id)})),dataLength:j.results.length,loader:Object(_.jsx)(xe,{spinner:!0}),hasMore:!!j.next,next:function(){return N(j,u)}}):Object(_.jsx)(b.a,{className:ae.a.Content,children:Object(_.jsx)(xe,{src:he,message:t})})}):Object(_.jsx)(b.a,{className:ae.a.Content,children:Object(_.jsx)(xe,{spinner:!0})})]}),Object(_.jsx)(K.a,{md:4,className:"d-none d-lg-block p-0 p-lg-2",children:Object(_.jsx)($e,{})})]})},ct=function(){var e,t;U("loggedOut");var a=Object(n.useState)({}),c=Object(m.a)(a,2),r=c[0],s=c[1],o=Object(n.useState)(""),j=Object(m.a)(o,2),u=j[0],d=j[1],h=Object(n.useState)({book:"",comment:""}),O=Object(m.a)(h,2),p=O[0],x=O[1],v=p.book,g=p.comment,k=Object(je.useHistory)(),w=Object(je.useParams)().id;Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,a,n,c,r,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/comments/".concat(w,"/"));case 3:t=e.sent,a=t.data,n=a.book,c=a.comment,r=a.book_title,s=a.is_owner,d(r),s?x({book:n,comment:c}):k.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),W.NotificationManager.error("There was an issue with the request of the data","Error");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[k,w]);var N=function(e){x(Object(C.a)(Object(C.a)({},p),{},Object(H.a)({},e.target.name,e.target.value)))},A=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,n,c,r,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("book",v),a.append("comment",g),e.prev=4,e.next=7,f.put("/comments/".concat(w),a);case 7:n=e.sent,c=n.data,k.push("/comments/".concat(c.id)),W.NotificationManager.success("Comment Updated","Success!"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0),401!==(null===(r=e.t0.response)||void 0===r?void 0:r.status)&&(s(null===(o=e.t0.response)||void 0===o?void 0:o.data),W.NotificationManager.error("There was an issue updating your comment","Error"));case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),B=Object(_.jsxs)("div",{className:"text-center",children:[Object(_.jsxs)(J.a.Group,{as:X.a,controlId:"formHorizontalEmail",children:[Object(_.jsx)(J.a.Label,{column:!0,sm:2,children:"Book"}),Object(_.jsx)(K.a,{sm:10,children:Object(_.jsx)(J.a.Control,{type:"text",name:"book",value:u,onChange:N,placeholder:"Select the book to comment",disabled:!0})})]}),null===r||void 0===r||null===(e=r.book)||void 0===e?void 0:e.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsxs)(J.a.Group,{as:X.a,controlId:"formHorizontalPassword",children:[Object(_.jsx)(J.a.Label,{column:!0,sm:2,children:"Comment"}),Object(_.jsx)(K.a,{sm:10,children:Object(_.jsx)(J.a.Control,{as:"textarea",rows:6,name:"comment",value:g,onChange:N})})]}),null===r||void 0===r||null===(t=r.comment)||void 0===t?void 0:t.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsx)(q.a,{className:"".concat(se.a.Button," ").concat(se.a.Blue),onClick:function(){return k.goBack()},children:"cancel"}),Object(_.jsx)(q.a,{className:"".concat(se.a.Button," ").concat(se.a.Blue),type:"submit",children:"create"})]});return Object(_.jsx)(_.Fragment,{children:p.book?Object(_.jsx)(J.a,{onSubmit:A,children:Object(_.jsx)(X.a,{children:Object(_.jsx)(K.a,{children:Object(_.jsx)(b.a,{className:ae.a.Content,children:B})})})}):function(){return k.goBack()}})},rt=a(185),st=a.n(rt),ot=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({results:[]}),s=Object(m.a)(r,2),j=s[0],u=s[1],d=M(),h=Object(o.useParams)().id,O=ze(),p=O.setProfileData,x=O.handleFollow,v=O.handleUnfollow,g=Ue().pageProfile,k=Object(m.a)(g.results,1)[0],w=(null===d||void 0===d?void 0:d.username)===(null===k||void 0===k?void 0:k.owner);Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,a,n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([f.get("/profiles/".concat(h,"/")),f.get("/comments/?owner__profile=".concat(h))]);case 3:t=e.sent,a=Object(m.a)(t,2),n=a[0].data,r=a[1].data,p((function(e){return Object(C.a)(Object(C.a)({},e),{},{pageProfile:{results:[n]}})})),u(r),c(!0),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[h,p]);var A=Object(_.jsxs)(_.Fragment,{children:[(null===k||void 0===k?void 0:k.is_owner)&&Object(_.jsx)(ye,{id:null===k||void 0===k?void 0:k.id}),Object(_.jsxs)(X.a,{noGutters:!0,className:"px-3 text-center",children:[Object(_.jsx)(K.a,{lg:3,className:"text-lg-left",children:Object(_.jsx)(z.a,{className:st.a.ProfileImage,roundedCircle:!0,src:null===k||void 0===k?void 0:k.image})}),Object(_.jsxs)(K.a,{lg:6,children:[Object(_.jsx)("h3",{className:"m-2",children:null===k||void 0===k?void 0:k.owner}),Object(_.jsxs)(X.a,{className:"justify-content-center no-gutters",children:[Object(_.jsxs)(K.a,{xs:3,className:"my-2",children:[Object(_.jsx)("div",{children:null===k||void 0===k?void 0:k.comments_count}),Object(_.jsx)("div",{children:"comments"})]}),Object(_.jsxs)(K.a,{xs:3,className:"my-2",children:[Object(_.jsx)("div",{children:null===k||void 0===k?void 0:k.followers_count}),Object(_.jsx)("div",{children:"followers"})]}),Object(_.jsxs)(K.a,{xs:3,className:"my-2",children:[Object(_.jsx)("div",{children:null===k||void 0===k?void 0:k.following_count}),Object(_.jsx)("div",{children:"following"})]})]})]}),Object(_.jsx)(K.a,{lg:3,className:"text-lg-right",children:d&&!w&&(null!==k&&void 0!==k&&k.following_id?Object(_.jsx)(q.a,{className:"".concat(se.a.Button," ").concat(se.a.BlackOutline),onClick:function(){return v(k)},children:"unfollow"}):Object(_.jsx)(q.a,{className:"".concat(se.a.Button," ").concat(se.a.Black),onClick:function(){return x(k)},children:"follow"}))}),(null===k||void 0===k?void 0:k.content)&&Object(_.jsx)(K.a,{className:"p-3",children:k.content})]})]}),B=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("hr",{}),Object(_.jsxs)("p",{className:"text-center",children:[null===k||void 0===k?void 0:k.owner,"'s comments"]}),Object(_.jsx)("hr",{}),j.results.length?Object(_.jsx)(Ye.a,{children:j.results.map((function(e){return Object(_.jsx)(Le,Object(C.a)(Object(C.a)({},e),{},{setComments:u}),e.id)})),dataLength:j.results.length,loader:Object(_.jsx)(xe,{spinner:!0}),hasMore:!!j.next,next:function(){return N(j,u)}}):Object(_.jsx)(xe,{src:he,message:"No results found, ".concat(null===k||void 0===k?void 0:k.owner," hasn't commented yet.")})]});return Object(_.jsxs)(X.a,{children:[Object(_.jsxs)(K.a,{className:"py-2 p-0 p-lg-2",lg:8,children:[Object(_.jsx)($e,{mobile:!0}),Object(_.jsx)(b.a,{className:ae.a.Content,children:a?Object(_.jsxs)(_.Fragment,{children:[A,B]}):Object(_.jsx)(xe,{spinner:!0})})]}),Object(_.jsx)(K.a,{lg:4,className:"d-none d-lg-block p-0 p-lg-2",children:Object(_.jsx)($e,{})})]})},it=function(){var e,t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)({}),j=Object(m.a)(s,2),u=j[0],d=j[1],h=Object(o.useHistory)(),O=Object(o.useParams)().id,p=M(),x=F();Object(n.useEffect)((function(){var e;(null===p||void 0===p||null===(e=p.profile_id)||void 0===e?void 0:e.toString())===O?r(p.username):h.push("/")}),[p,h,O]);var v=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g.put("/dj-rest-auth/user/",{username:c});case 4:x((function(e){return Object(C.a)(Object(C.a)({},e),{},{username:c})})),h.goBack(),W.NotificationManager.success("Username Updated","Success!"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),d(null===(a=e.t0.response)||void 0===a?void 0:a.data),W.NotificationManager.error("There was an issue updating your username","Error");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)(X.a,{children:Object(_.jsx)(K.a,{className:"py-2 mx-auto text-center",md:6,children:Object(_.jsx)(b.a,{className:ae.a.Content,children:Object(_.jsxs)(J.a,{onSubmit:v,className:"my-2",children:[Object(_.jsxs)(J.a.Group,{children:[Object(_.jsx)(J.a.Label,{children:"Change username"}),Object(_.jsx)(J.a.Control,{placeholder:"username",type:"text",value:c,onChange:function(e){return r(e.target.value)}})]}),null===u||void 0===u||null===(e=u.username)||void 0===e?void 0:e.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsx)(q.a,{className:"".concat(se.a.Button," ").concat(se.a.Blue),onClick:function(){return h.goBack()},children:"cancel"}),Object(_.jsx)(q.a,{className:"".concat(se.a.Button," ").concat(se.a.Blue),type:"submit",children:"save"})]})})})})},lt=function(){var e,t,a=Object(o.useHistory)(),c=Object(o.useParams)().id,r=M(),s=Object(n.useState)({new_password1:"",new_password2:""}),j=Object(m.a)(s,2),u=j[0],d=j[1],h=u.new_password1,O=u.new_password2,p=Object(n.useState)({}),x=Object(m.a)(p,2),v=x[0],f=x[1],k=function(e){d(Object(C.a)(Object(C.a)({},u),{},Object(H.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){var e;(null===r||void 0===r||null===(e=r.profile_id)||void 0===e?void 0:e.toString())!==c&&a.push("/")}),[r,a,c]);var w=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g.post("/dj-rest-auth/password/change/",u);case 4:a.goBack(),W.NotificationManager.success("Password Updated","Success!"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),f(null===(n=e.t0.response)||void 0===n?void 0:n.data),W.NotificationManager.error("There was an issue updating the password","Error");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)(X.a,{children:Object(_.jsx)(K.a,{className:"py-2 mx-auto text-center",md:6,children:Object(_.jsx)(b.a,{className:ae.a.Content,children:Object(_.jsxs)(J.a,{onSubmit:w,children:[Object(_.jsxs)(J.a.Group,{children:[Object(_.jsx)(J.a.Label,{children:"New password"}),Object(_.jsx)(J.a.Control,{placeholder:"new password",type:"password",value:h,onChange:k,name:"new_password1"})]}),null===v||void 0===v||null===(e=v.new_password1)||void 0===e?void 0:e.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsxs)(J.a.Group,{children:[Object(_.jsx)(J.a.Label,{children:"Confirm password"}),Object(_.jsx)(J.a.Control,{placeholder:"confirm new password",type:"password",value:O,onChange:k,name:"new_password2"})]}),null===v||void 0===v||null===(t=v.new_password2)||void 0===t?void 0:t.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsx)(q.a,{className:"".concat(se.a.Button," ").concat(se.a.Blue),onClick:function(){return a.goBack()},children:"cancel"}),Object(_.jsx)(q.a,{type:"submit",className:"".concat(se.a.Button," ").concat(se.a.Blue),children:"save"})]})})})})},jt=function(){var e,t,a=M(),c=F(),r=Object(o.useParams)().id,s=Object(o.useHistory)(),j=Object(n.useRef)(),u=Object(n.useState)({name:"",content:"",image:""}),d=Object(m.a)(u,2),h=d[0],O=d[1],p=h.name,x=h.content,v=h.image,g=Object(n.useState)({}),k=Object(m.a)(g,2),w=k[0],N=k[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,n,c,o,l,j;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===a||void 0===a||null===(t=a.profile_id)||void 0===t?void 0:t.toString())!==r){e.next=15;break}return e.prev=1,e.next=4,f.get("/profiles/".concat(r,"/"));case 4:n=e.sent,c=n.data,o=c.name,l=c.content,j=c.image,O({name:o,content:l,image:j}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),s.push("/");case 13:e.next=16;break;case 15:s.push("/");case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[a,s,r]);var A=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,n,o,l,u,d;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("name",p),n.append("content",x),null!==j&&void 0!==j&&null!==(a=j.current)&&void 0!==a&&a.files[0]&&n.append("image",null===j||void 0===j||null===(o=j.current)||void 0===o?void 0:o.files[0]),e.prev=5,e.next=8,f.put("/profiles/".concat(r,"/"),n);case 8:l=e.sent,u=l.data,c((function(e){return Object(C.a)(Object(C.a)({},e),{},{profile_image:u.image})})),s.goBack(),W.NotificationManager.success("Profile Updated","Success!"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),N(null===(d=e.t0.response)||void 0===d?void 0:d.data),W.NotificationManager.error("There was an issue updating your profile","Error");case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}(),B=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(J.a.Group,{children:[Object(_.jsx)(J.a.Label,{children:"Bio"}),Object(_.jsx)(J.a.Control,{as:"textarea",value:x,onChange:function(e){O(Object(C.a)(Object(C.a)({},h),{},Object(H.a)({},e.target.name,e.target.value)))},name:"content",rows:7})]}),null===w||void 0===w||null===(e=w.content)||void 0===e?void 0:e.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsx)(q.a,{className:"".concat(se.a.Button," ").concat(se.a.Blue),onClick:function(){return s.goBack()},children:"cancel"}),Object(_.jsx)(q.a,{className:"".concat(se.a.Button," ").concat(se.a.Blue),type:"submit",children:"save"})]});return Object(_.jsx)(J.a,{onSubmit:A,children:Object(_.jsxs)(X.a,{children:[Object(_.jsx)(K.a,{className:"py-2 p-0 p-md-2 text-center",md:7,lg:6,children:Object(_.jsxs)(b.a,{className:ae.a.Content,children:[Object(_.jsxs)(J.a.Group,{children:[v&&Object(_.jsx)("figure",{children:Object(_.jsx)(z.a,{src:v,width:300,fluid:!0})}),null===w||void 0===w||null===(t=w.image)||void 0===t?void 0:t.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsx)("div",{children:Object(_.jsx)(J.a.Label,{className:"".concat(se.a.Button," ").concat(se.a.Blue," btn my-auto"),htmlFor:"image-upload",children:"Change the image"})}),Object(_.jsx)(J.a.File,{id:"image-upload",ref:j,accept:"image/*",onChange:function(e){e.target.files.length&&O(Object(C.a)(Object(C.a)({},h),{},{image:URL.createObjectURL(e.target.files[0])}))}})]}),Object(_.jsx)("div",{className:"d-md-none",children:B})]})}),Object(_.jsx)(K.a,{md:5,lg:6,className:"d-none d-md-block p-0 p-md-2 text-center",children:Object(_.jsx)(b.a,{className:ae.a.Content,children:B})})]})})},ut=function(e){var t,a=e.book_id,c=e.bookmark_id,r=e.bookmark_status,s=e.owner,o=e.fromBooksPage,j=void 0!==o&&o;r=r||"-";var u=Object(n.useState)(r),d=Object(m.a)(u,2),b=d[0],h=d[1],O=Object(n.useState)({}),p=Object(m.a)(O,2),x=p[0],v=p[1],g=M(),k=(null===g||void 0===g?void 0:g.username)===s,C=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var n,r,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=new FormData,h(t.target.value),n.append("book",a),n.append("owner",g.username),n.append("status",t.target.value),e.prev=6,!c){e.next=17;break}if(!t.target.value||"-"===t.target.value){e.next=13;break}return e.next=11,f.put("/bookmarks/".concat(c),n);case 11:e.next=15;break;case 13:return e.next=15,f.delete("/bookmarks/".concat(c));case 15:e.next=19;break;case 17:return e.next=19,f.post("/bookmarks/",n);case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(6),console.log(e.t0),401!==(null===(r=e.t0.response)||void 0===r?void 0:r.status)&&(v(null===(s=e.t0.response)||void 0===s?void 0:s.data),W.NotificationManager.error("There was an issue changing the bookmark","Error"));case 25:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t){return e.apply(this,arguments)}}(),w=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("option",{value:"-",children:" - No status - "}),Object(_.jsx)("option",{value:"Want to read",children:"Want to read"}),Object(_.jsx)("option",{value:"Currently Reading",children:"Currently Reading"}),Object(_.jsx)("option",{value:"Read",children:"Read"}),Object(_.jsx)("option",{value:"To Check",children:"To Check"})]});return Object(_.jsxs)(J.a,{onSubmit:C,children:[Object(_.jsx)(J.a.Group,{className:"text-left",children:Object(_.jsx)(J.a.Control,{as:"select",value:b,onChange:C,name:"status",rows:7,placeholder:"",disabled:!j&&!k,children:w})}),null===x||void 0===x||null===(t=x.lang_orig)||void 0===t?void 0:t.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)}))]})},dt=a(145),bt=a.n(dt),ht=function(e){var t=e.id,a=e.title,n=e.auth,c=e.pub_date,r=e.pages_no,s=e.genre,o=e.synopsis,u=e.cover,d=e.bookmark_id,b=e.bookmark_status,h=e.book_id,O=e.profile_id,p=e.profile_image,m=e.owner,x=e.is_owner,v=e.updated_on,f=e.comments_count,k=e.bookmarks_count,C=e.onlyone,w=e.showfooter,N=void 0===w||w,A=e.fromBooksPage,B=void 0===A||A,I=M(),y=Object(je.useHistory)(),S=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=3;break}return alert("Only the owner of the book cand delete it!"),e.abrupt("return");case 3:return e.prev=3,e.next=6,g.delete("/books/".concat(t,"/"));case 6:y.goBack(),W.NotificationManager.info("Book deleted"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),W.NotificationManager.error("There was an issue deleting the book","Error");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)(be.a,{className:bt.a.Book,children:[Object(_.jsx)(be.a.Body,{children:Object(_.jsxs)(de.a,{className:"align-items-center justify-content-between",children:[B?Object(_.jsx)(j.b,{to:"#"}):Object(_.jsxs)(j.b,{to:"/profiles/".concat(O),children:[Object(_.jsx)(P,{src:p,height:40}),m]}),I&&Object(_.jsxs)("div",{className:"d-flex align-items-center",children:[Object(_.jsx)("span",{children:v}),Object(_.jsx)(Ie,{handleEdit:function(){y.push("/books/".concat(t,"/edit"))},handleDelete:S})]})]})}),Object(_.jsxs)(be.a.Body,{children:[Object(_.jsxs)(de.a,{children:[C?Object(_.jsx)(be.a.Img,{src:u,alt:"Bookcover of ".concat(a),className:"mr-3 ".concat(bt.a.Image)}):Object(_.jsx)(j.b,{to:"/books/".concat(h),children:Object(_.jsx)(be.a.Img,{src:u,alt:"Bookcover of ".concat(a),className:"mr-3 ".concat(bt.a.Image)})}),Object(_.jsxs)(de.a.Body,{className:"text-left",children:[a&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(be.a.Title,{className:"text-left",children:a}),Object(_.jsxs)(be.a.Subtitle,{className:"mb-2 text-muted",children:["by ",n]})]}),(I&&B||!B)&&Object(_.jsx)(ut,{book_id:h,bookmark_id:d,bookmark_status:b,owner:m,fromBooksPage:B}),o&&Object(_.jsx)(be.a.Text,{children:Object(_.jsx)(Ee,{text:o})}),Object(_.jsx)(be.a.Text,{children:Object(_.jsx)("small",{className:"text-muted",children:s&&"Genres: ".concat(s)})}),Object(_.jsx)(be.a.Text,{children:Object(_.jsxs)("small",{className:"text-muted",children:[r&&"".concat(r," pages"),c&&", published ".concat(c)]})})]})]}),Object(_.jsx)("hr",{}),N&&Object(_.jsxs)(be.a.Text,{className:"text-center",children:[f?Object(_.jsx)(j.b,{to:"/comments/book/".concat(t),children:Object(_.jsx)("i",{className:"far fa-comments"})}):Object(_.jsx)("i",{className:"far fa-comments"}),f,k?Object(_.jsx)(j.b,{to:"/bookmarks/".concat(t),children:Object(_.jsx)("i",{className:"far fa-bookmark"})}):Object(_.jsx)("i",{className:"far fa-bookmark"}),k]})]}),C&&I&&N&&Object(_.jsxs)(j.b,{className:"align-self-center",to:"/comments/".concat(t,"/create"),children:[Object(_.jsx)("i",{className:"fas fa-plus-circle"})," Add comment"]})]})},Ot=a(161),pt=a.n(Ot),mt=function(e){e.message;var t=e.filter,a=void 0===t?"":t,c=Object(n.useState)({results:[]}),r=Object(m.a)(c,2),s=r[0],u=r[1],d=Object(n.useState)(!1),h=Object(m.a)(d,2),O=h[0],p=h[1],x=Object(o.useLocation)().pathname,v=Object(n.useState)(""),g=Object(m.a)(v,2),k=g[0],w=g[1],A=M();return Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/books/?".concat(a,"&search=").concat(k));case 3:t=e.sent,n=t.data,u(n),p(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();p(!1);var t=setTimeout((function(){e()}),1e3);return function(){clearTimeout(t)}}),[a,k,x]),Object(_.jsxs)(X.a,{className:"h-100",children:[Object(_.jsxs)(K.a,{className:"py-2 p-0 p-lg-2",lg:8,children:[Object(_.jsx)($e,{mobile:!0}),Object(_.jsx)("i",{className:"fas fa-search ".concat(pt.a.SearchIcon)}),Object(_.jsx)(J.a,{className:pt.a.SearchBar,onSubmit:function(e){return e.preventDefault()},children:Object(_.jsx)(J.a.Control,{value:k,onChange:function(e){return w(e.target.value)},type:"text",className:"mr-sm-2",placeholder:"Search books"})}),O?Object(_.jsx)(_.Fragment,{children:s.results.length?Object(_.jsx)(Ye.a,{children:s.results.map((function(e){return Object(_.jsx)(ht,Object(C.a)(Object(C.a)({},e),{},{setBooks:u,onlyone:!1,showfooter:!0,fromBooksPage:!0}),e.id)})),dataLength:s.results.length,loader:Object(_.jsx)(xe,{spinner:!0}),hasMore:!!s.next,next:function(){return N(s,u)}}):Object(_.jsxs)(b.a,{className:ae.a.Content,children:[Object(_.jsx)(xe,{src:he,message:"No results found. Adjust the search keyword or add a new book."}),A&&Object(_.jsx)("div",{className:"text-center",children:Object(_.jsxs)(j.b,{className:"align-self-center",to:"/books/create/".concat(k),children:[Object(_.jsx)("i",{className:"fas fa-plus-circle"})," Add book"]})})]})}):Object(_.jsx)(b.a,{className:ae.a.Content,children:Object(_.jsx)(xe,{spinner:!0})})]}),Object(_.jsx)(K.a,{md:4,className:"d-none d-lg-block p-0 p-lg-2",children:Object(_.jsx)($e,{})})]})},xt=function(){var e=Object(o.useParams)().id,t=Object(n.useState)({results:[]}),a=Object(m.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){var t=function(){var t=Object(l.a)(Object(i.a)().mark((function t(){var a,n,c;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([f.get("/books/".concat(e))]);case 3:a=t.sent,n=Object(m.a)(a,1),c=n[0].data,r({results:[c]}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(_.jsxs)(X.a,{className:"h-100",children:[Object(_.jsxs)(K.a,{className:"py-2 p-0 p-lg-2",lg:8,children:[Object(_.jsx)($e,{mobile:!0}),Object(_.jsx)(ht,Object(C.a)(Object(C.a)({},c.results[0]),{},{setBook:r,onlyone:!0,fromBooksPage:!0}))]}),Object(_.jsx)(K.a,{md:4,className:"d-none d-lg-block p-0 p-lg-2",children:Object(_.jsx)($e,{})})]})},vt=a(186),ft=a.n(vt),gt=(a(236),a(146)),kt=a.n(gt),Ct=function(){var e,t,a,c,r,s,o,j,u,d,h;U("loggedOut");var O=Object(n.useState)({}),p=Object(m.a)(O,2),x=p[0],v=p[1],g=Object(n.useState)(new Date),k=g.dateOfPub,w=g.setDateOfPub,N=Object(je.useHistory)(),A=Object(je.useParams)(),B=A.id,I=A.newtitle,y=Object(n.useState)({title:I||"",auth:"",pub_date:"",publisher:"",pages_no:"",isbn:"",lang_orig:"",lang:"",translators:"",genre:"",synopsis:"",cover:""}),S=Object(m.a)(y,2),E=S[0],M=S[1],F=Object(n.useRef)(),L=E.title,Q=E.auth,G=E.pub_date,P=E.publisher,D=E.pages_no,T=E.isbn,R=E.lang_orig,Z=E.lang,Y=E.translators,V=E.genre,ee=E.synopsis,te=E.cover;Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,a,n,c,r,s,o,l,j,u,d,b,h,O;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/books/".concat(B,"/"));case 3:t=e.sent,a=t.data,n=a.title,c=a.auth,r=a.pub_date,s=a.publisher,o=a.pages_no,l=a.isbn,j=a.lang_orig,u=a.lang,d=a.translators,b=a.genre,h=a.synopsis,O=a.cover,M({title:n,auth:c,pub_date:r,publisher:s,pages_no:o,isbn:l,lang_orig:j,lang:u,translators:d,genre:b,synopsis:h,cover:O}),console.log(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),N.push("/books");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();B&&e()}),[N,B]);var ne=function(e){M(Object(C.a)(Object(C.a)({},E),{},Object(H.a)({},e.target.name,e.target.value)))},ce=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,n,c,r,s,o,l;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("title",L),n.append("auth",Q),n.append("pub_date",k),n.append("publisher",P),n.append("pages_no",D),n.append("isbn",T),n.append("lang_orig",R),n.append("lang",Z),n.append("translators",Y),n.append("genre",V),n.append("synopsis",ee),null!==F&&void 0!==F&&null!==(a=F.current)&&void 0!==a&&a.files[0]&&n.append("cover",null===F||void 0===F||null===(c=F.current)||void 0===c?void 0:c.files[0]),e.prev=14,e.next=17,f.put("/books/",n);case 17:r=e.sent,s=r.data,N.push("/books/".concat(s.id)),W.NotificationManager.success("Book updated","Success!"),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(14),console.log(e.t0),401!==(null===(o=e.t0.response)||void 0===o?void 0:o.status)&&(v(null===(l=e.t0.response)||void 0===l?void 0:l.data),W.NotificationManager.error("There was an issue adding your post",e.t0));case 27:case"end":return e.stop()}}),e,null,[[14,23]])})));return function(t){return e.apply(this,arguments)}}(),re=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("option",{value:"",children:"Choose location"}),Object(_.jsx)("option",{value:"Afar",children:"Afar"}),Object(_.jsx)("option",{value:"Abkhazian",children:"Abkhazian"}),Object(_.jsx)("option",{value:"Afrikaans",children:"Afrikaans"}),Object(_.jsx)("option",{value:"Akan",children:"Akan"}),Object(_.jsx)("option",{value:"Albanian",children:"Albanian"}),Object(_.jsx)("option",{value:"Amharic",children:"Amharic"}),Object(_.jsx)("option",{value:"Arabic",children:"Arabic"}),Object(_.jsx)("option",{value:"Aragonese",children:"Aragonese"}),Object(_.jsx)("option",{value:"Armenian",children:"Armenian"}),Object(_.jsx)("option",{value:"Assamese",children:"Assamese"}),Object(_.jsx)("option",{value:"Avaric",children:"Avaric"}),Object(_.jsx)("option",{value:"Avestan",children:"Avestan"}),Object(_.jsx)("option",{value:"Aymara",children:"Aymara"}),Object(_.jsx)("option",{value:"Azerbaijani",children:"Azerbaijani"}),Object(_.jsx)("option",{value:"Bashkir",children:"Bashkir"}),Object(_.jsx)("option",{value:"Bambara",children:"Bambara"}),Object(_.jsx)("option",{value:"Basque",children:"Basque"}),Object(_.jsx)("option",{value:"Belarusian",children:"Belarusian"}),Object(_.jsx)("option",{value:"Bengali",children:"Bengali"}),Object(_.jsx)("option",{value:"Bihari languages",children:"Bihari languages"}),Object(_.jsx)("option",{value:"Bislama",children:"Bislama"}),Object(_.jsx)("option",{value:"Tibetan",children:"Tibetan"}),Object(_.jsx)("option",{value:"Bosnian",children:"Bosnian"}),Object(_.jsx)("option",{value:"Breton",children:"Breton"}),Object(_.jsx)("option",{value:"Bulgarian",children:"Bulgarian"}),Object(_.jsx)("option",{value:"Burmese",children:"Burmese"}),Object(_.jsx)("option",{value:"Catalan; Valencian",children:"Catalan; Valencian"}),Object(_.jsx)("option",{value:"Czech",children:"Czech"}),Object(_.jsx)("option",{value:"Chamorro",children:"Chamorro"}),Object(_.jsx)("option",{value:"Chechen",children:"Chechen"}),Object(_.jsx)("option",{value:"Chinese",children:"Chinese"}),Object(_.jsx)("option",{value:"Chuvash",children:"Chuvash"}),Object(_.jsx)("option",{value:"Cornish",children:"Cornish"}),Object(_.jsx)("option",{value:"Corsican",children:"Corsican"}),Object(_.jsx)("option",{value:"Cree",children:"Cree"}),Object(_.jsx)("option",{value:"Welsh",children:"Welsh"}),Object(_.jsx)("option",{value:"Czech",children:"Czech"}),Object(_.jsx)("option",{value:"Danish",children:"Danish"}),Object(_.jsx)("option",{value:"German",children:"German"}),Object(_.jsx)("option",{value:"Divehi; Dhivehi; Maldivian",children:"Divehi; Dhivehi; Maldivian"}),Object(_.jsx)("option",{value:"Dutch; Flemish",children:"Dutch; Flemish"}),Object(_.jsx)("option",{value:"Dzongkha",children:"Dzongkha"}),Object(_.jsx)("option",{value:"Greek, Modern (1453-)",children:"Greek, Modern (1453-)"}),Object(_.jsx)("option",{value:"English",children:"English"}),Object(_.jsx)("option",{value:"Esperanto",children:"Esperanto"}),Object(_.jsx)("option",{value:"Estonian",children:"Estonian"}),Object(_.jsx)("option",{value:"Basque",children:"Basque"}),Object(_.jsx)("option",{value:"Ewe",children:"Ewe"}),Object(_.jsx)("option",{value:"Faroese",children:"Faroese"}),Object(_.jsx)("option",{value:"Persian",children:"Persian"}),Object(_.jsx)("option",{value:"Fijian",children:"Fijian"}),Object(_.jsx)("option",{value:"Finnish",children:"Finnish"}),Object(_.jsx)("option",{value:"French",children:"French"}),Object(_.jsx)("option",{value:"Western Frisian",children:"Western Frisian"}),Object(_.jsx)("option",{value:"Fulah",children:"Fulah"}),Object(_.jsx)("option",{value:"Georgian",children:"Georgian"}),Object(_.jsx)("option",{value:"German",children:"German"}),Object(_.jsx)("option",{value:"Gaelic; Scottish Gaelic",children:"Gaelic; Scottish Gaelic"}),Object(_.jsx)("option",{value:"Irish",children:"Irish"}),Object(_.jsx)("option",{value:"Galician",children:"Galician"}),Object(_.jsx)("option",{value:"Manx",children:"Manx"}),Object(_.jsx)("option",{value:"Greek, Modern (1453-)",children:"Greek, Modern (1453-)"}),Object(_.jsx)("option",{value:"Guarani",children:"Guarani"}),Object(_.jsx)("option",{value:"Gujarati",children:"Gujarati"}),Object(_.jsx)("option",{value:"Haitian; Haitian Creole",children:"Haitian; Haitian Creole"}),Object(_.jsx)("option",{value:"Hausa",children:"Hausa"}),Object(_.jsx)("option",{value:"Hebrew",children:"Hebrew"}),Object(_.jsx)("option",{value:"Herero",children:"Herero"}),Object(_.jsx)("option",{value:"Hindi",children:"Hindi"}),Object(_.jsx)("option",{value:"Hiri Motu",children:"Hiri Motu"}),Object(_.jsx)("option",{value:"Croatian",children:"Croatian"}),Object(_.jsx)("option",{value:"Hungarian",children:"Hungarian"}),Object(_.jsx)("option",{value:"Armenian",children:"Armenian"}),Object(_.jsx)("option",{value:"Igbo",children:"Igbo"}),Object(_.jsx)("option",{value:"Icelandic",children:"Icelandic"}),Object(_.jsx)("option",{value:"Ido",children:"Ido"}),Object(_.jsx)("option",{value:"Sichuan Yi; Nuosu",children:"Sichuan Yi; Nuosu"}),Object(_.jsx)("option",{value:"Inuktitut",children:"Inuktitut"}),Object(_.jsx)("option",{value:"Interlingue; Occidental",children:"Interlingue; Occidental"}),Object(_.jsx)("option",{value:"Indonesian",children:"Indonesian"}),Object(_.jsx)("option",{value:"Inupiaq",children:"Inupiaq"}),Object(_.jsx)("option",{value:"Icelandic",children:"Icelandic"}),Object(_.jsx)("option",{value:"Italian",children:"Italian"}),Object(_.jsx)("option",{value:"Javanese",children:"Javanese"}),Object(_.jsx)("option",{value:"Japanese",children:"Japanese"}),Object(_.jsx)("option",{value:"Kalaallisut; Greenlandic",children:"Kalaallisut; Greenlandic"}),Object(_.jsx)("option",{value:"Kannada",children:"Kannada"}),Object(_.jsx)("option",{value:"Kashmiri",children:"Kashmiri"}),Object(_.jsx)("option",{value:"Georgian",children:"Georgian"}),Object(_.jsx)("option",{value:"Kanuri",children:"Kanuri"}),Object(_.jsx)("option",{value:"Kazakh",children:"Kazakh"}),Object(_.jsx)("option",{value:"Central Khmer",children:"Central Khmer"}),Object(_.jsx)("option",{value:"Kikuyu; Gikuyu",children:"Kikuyu; Gikuyu"}),Object(_.jsx)("option",{value:"Kinyarwanda",children:"Kinyarwanda"}),Object(_.jsx)("option",{value:"Kirghiz; Kyrgyz",children:"Kirghiz; Kyrgyz"}),Object(_.jsx)("option",{value:"Komi",children:"Komi"}),Object(_.jsx)("option",{value:"Kongo",children:"Kongo"}),Object(_.jsx)("option",{value:"Korean",children:"Korean"}),Object(_.jsx)("option",{value:"Kuanyama; Kwanyama",children:"Kuanyama; Kwanyama"}),Object(_.jsx)("option",{value:"Kurdish",children:"Kurdish"}),Object(_.jsx)("option",{value:"Lao",children:"Lao"}),Object(_.jsx)("option",{value:"Latin",children:"Latin"}),Object(_.jsx)("option",{value:"Latvian",children:"Latvian"}),Object(_.jsx)("option",{value:"Limburgan; Limburger; Limburgish",children:"Limburgan; Limburger; Limburgish"}),Object(_.jsx)("option",{value:"Lingala",children:"Lingala"}),Object(_.jsx)("option",{value:"Lithuanian",children:"Lithuanian"}),Object(_.jsx)("option",{value:"Luxembourgish; Letzeburgesch",children:"Luxembourgish; Letzeburgesch"}),Object(_.jsx)("option",{value:"Luba-Katanga",children:"Luba-Katanga"}),Object(_.jsx)("option",{value:"Ganda",children:"Ganda"}),Object(_.jsx)("option",{value:"Macedonian",children:"Macedonian"}),Object(_.jsx)("option",{value:"Marshallese",children:"Marshallese"}),Object(_.jsx)("option",{value:"Malayalam",children:"Malayalam"}),Object(_.jsx)("option",{value:"Maori",children:"Maori"}),Object(_.jsx)("option",{value:"Marathi",children:"Marathi"}),Object(_.jsx)("option",{value:"Malay",children:"Malay"}),Object(_.jsx)("option",{value:"Micmac",children:"Micmac"}),Object(_.jsx)("option",{value:"Macedonian",children:"Macedonian"}),Object(_.jsx)("option",{value:"Malagasy",children:"Malagasy"}),Object(_.jsx)("option",{value:"Maltese",children:"Maltese"}),Object(_.jsx)("option",{value:"Mongolian",children:"Mongolian"}),Object(_.jsx)("option",{value:"Maori",children:"Maori"}),Object(_.jsx)("option",{value:"Malay",children:"Malay"}),Object(_.jsx)("option",{value:"Burmese",children:"Burmese"}),Object(_.jsx)("option",{value:"Nauru",children:"Nauru"}),Object(_.jsx)("option",{value:"Navajo; Navaho",children:"Navajo; Navaho"}),Object(_.jsx)("option",{value:"Ndebele, South; South Ndebele",children:"Ndebele, South; South Ndebele"}),Object(_.jsx)("option",{value:"Ndebele, North; North Ndebele",children:"Ndebele, North; North Ndebele"}),Object(_.jsx)("option",{value:"Ndonga",children:"Ndonga"}),Object(_.jsx)("option",{value:"Nepali",children:"Nepali"}),Object(_.jsx)("option",{value:"Dutch; Flemish",children:"Dutch; Flemish"}),Object(_.jsx)("option",{value:"Norwegian Nynorsk",children:"Norwegian Nynorsk"}),Object(_.jsx)("option",{value:"Bokm\xe5l, Norwegian",children:"Bokm\xe5l, Norwegian"}),Object(_.jsx)("option",{value:"Norwegian",children:"Norwegian"}),Object(_.jsx)("option",{value:"Occitan (post 1500)",children:"Occitan (post 1500)"}),Object(_.jsx)("option",{value:"Ojibwa",children:"Ojibwa"}),Object(_.jsx)("option",{value:"Oriya",children:"Oriya"}),Object(_.jsx)("option",{value:"Oromo",children:"Oromo"}),Object(_.jsx)("option",{value:"Ossetian; Ossetic",children:"Ossetian; Ossetic"}),Object(_.jsx)("option",{value:"Panjabi; Punjabi",children:"Panjabi; Punjabi"}),Object(_.jsx)("option",{value:"Persian",children:"Persian"}),Object(_.jsx)("option",{value:"Pali",children:"Pali"}),Object(_.jsx)("option",{value:"Polish",children:"Polish"}),Object(_.jsx)("option",{value:"Portuguese",children:"Portuguese"}),Object(_.jsx)("option",{value:"Pushto; Pashto",children:"Pushto; Pashto"}),Object(_.jsx)("option",{value:"Quechua",children:"Quechua"}),Object(_.jsx)("option",{value:"Romansh",children:"Romansh"}),Object(_.jsx)("option",{value:"Romanian; Moldavian; Moldovan",children:"Romanian; Moldavian; Moldovan"}),Object(_.jsx)("option",{value:"Romanian; Moldavian; Moldovan",children:"Romanian; Moldavian; Moldovan"}),Object(_.jsx)("option",{value:"Rundi",children:"Rundi"}),Object(_.jsx)("option",{value:"Russian",children:"Russian"}),Object(_.jsx)("option",{value:"Sango",children:"Sango"}),Object(_.jsx)("option",{value:"Sanskrit",children:"Sanskrit"}),Object(_.jsx)("option",{value:"Sinhala; Sinhalese",children:"Sinhala; Sinhalese"}),Object(_.jsx)("option",{value:"Slovak",children:"Slovak"}),Object(_.jsx)("option",{value:"Slovak",children:"Slovak"}),Object(_.jsx)("option",{value:"Slovenian",children:"Slovenian"}),Object(_.jsx)("option",{value:"Northern Sami",children:"Northern Sami"}),Object(_.jsx)("option",{value:"Samoan",children:"Samoan"}),Object(_.jsx)("option",{value:"Shona",children:"Shona"}),Object(_.jsx)("option",{value:"Sindhi",children:"Sindhi"}),Object(_.jsx)("option",{value:"Somali",children:"Somali"}),Object(_.jsx)("option",{value:"Sotho, Southern",children:"Sotho, Southern"}),Object(_.jsx)("option",{value:"Spanish; Castilian",children:"Spanish; Castilian"}),Object(_.jsx)("option",{value:"Albanian",children:"Albanian"}),Object(_.jsx)("option",{value:"Sardinian",children:"Sardinian"}),Object(_.jsx)("option",{value:"Serbian",children:"Serbian"}),Object(_.jsx)("option",{value:"Swati",children:"Swati"}),Object(_.jsx)("option",{value:"Sundanese",children:"Sundanese"}),Object(_.jsx)("option",{value:"Swahili",children:"Swahili"}),Object(_.jsx)("option",{value:"Swedish",children:"Swedish"}),Object(_.jsx)("option",{value:"Tahitian",children:"Tahitian"}),Object(_.jsx)("option",{value:"Tamil",children:"Tamil"}),Object(_.jsx)("option",{value:"Tatar",children:"Tatar"}),Object(_.jsx)("option",{value:"Telugu",children:"Telugu"}),Object(_.jsx)("option",{value:"Tajik",children:"Tajik"}),Object(_.jsx)("option",{value:"Tagalog",children:"Tagalog"}),Object(_.jsx)("option",{value:"Thai",children:"Thai"}),Object(_.jsx)("option",{value:"Tibetan",children:"Tibetan"}),Object(_.jsx)("option",{value:"Tigrinya",children:"Tigrinya"}),Object(_.jsx)("option",{value:"Tonga (Tonga Islands)",children:"Tonga (Tonga Islands)"}),Object(_.jsx)("option",{value:"Tswana",children:"Tswana"}),Object(_.jsx)("option",{value:"Tsonga",children:"Tsonga"}),Object(_.jsx)("option",{value:"Turkmen",children:"Turkmen"}),Object(_.jsx)("option",{value:"Turkish",children:"Turkish"}),Object(_.jsx)("option",{value:"Twi",children:"Twi"}),Object(_.jsx)("option",{value:"Uighur; Uyghur",children:"Uighur; Uyghur"}),Object(_.jsx)("option",{value:"Ukrainian",children:"Ukrainian"}),Object(_.jsx)("option",{value:"Urdu",children:"Urdu"}),Object(_.jsx)("option",{value:"Uzbek",children:"Uzbek"}),Object(_.jsx)("option",{value:"Venda",children:"Venda"}),Object(_.jsx)("option",{value:"Vietnamese",children:"Vietnamese"}),Object(_.jsx)("option",{value:"Volap\xfck",children:"Volap\xfck"}),Object(_.jsx)("option",{value:"Welsh",children:"Welsh"}),Object(_.jsx)("option",{value:"Walloon",children:"Walloon"}),Object(_.jsx)("option",{value:"Wolof",children:"Wolof"}),Object(_.jsx)("option",{value:"Xhosa",children:"Xhosa"}),Object(_.jsx)("option",{value:"Yiddish",children:"Yiddish"}),Object(_.jsx)("option",{value:"Yoruba",children:"Yoruba"}),Object(_.jsx)("option",{value:"Zhuang; Chuang",children:"Zhuang; Chuang"}),Object(_.jsx)("option",{value:"Chinese",children:"Chinese"}),Object(_.jsx)("option",{value:"Zulu",children:"Zulu"})]}),oe=Object(_.jsxs)("div",{className:"text-center",children:[Object(_.jsxs)(J.a.Group,{className:"text-left",children:[Object(_.jsx)(J.a.Label,{column:!0,sm:2,children:"Title"}),Object(_.jsx)(K.a,{sm:10,children:Object(_.jsx)(J.a.Control,{type:"text",name:"title",value:L,onChange:ne,placeholder:""})})]}),null===x||void 0===x||null===(e=x.title)||void 0===e?void 0:e.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsxs)(J.a.Group,{className:"text-left",children:[Object(_.jsx)(J.a.Label,{column:!0,sm:2,children:"Author"}),Object(_.jsx)(K.a,{sm:10,children:Object(_.jsx)(J.a.Control,{type:"text",name:"auth",value:Q,onChange:ne,placeholder:""})})]}),null===x||void 0===x||null===(t=x.auth)||void 0===t?void 0:t.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsxs)(J.a.Group,{className:"text-left",children:[Object(_.jsx)(J.a.Label,{column:!0,sm:5,children:"Publication date"}),Object(_.jsx)(K.a,{sm:10,children:Object(_.jsx)(ft.a,{selected:k,name:"pub_date",value:G,onChange:function(e){w(e),M(Object(C.a)(Object(C.a)({},E),{},{pub_date:e.toISOString().split("T")[0]}))},dateFormat:"yyyy-MM-dd",rows:7,placeholder:""})})]}),Object(_.jsxs)(J.a.Group,{className:"text-left",children:[Object(_.jsx)(J.a.Label,{column:!0,sm:2,children:"Publisher"}),Object(_.jsx)(K.a,{sm:10,children:Object(_.jsx)(J.a.Control,{as:"textarea",rows:6,name:"publisher",value:P,onChange:ne,placeholder:""})})]}),null===x||void 0===x||null===(a=x.publisher)||void 0===a?void 0:a.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsxs)(J.a.Group,{className:"text-left",children:[Object(_.jsx)(J.a.Label,{column:!0,sm:2,children:"Pages"}),Object(_.jsx)(K.a,{sm:10,children:Object(_.jsx)(J.a.Control,{type:"text",name:"pages_no",value:D,onChange:ne,placeholder:""})})]}),null===x||void 0===x||null===(c=x.pages_no)||void 0===c?void 0:c.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsxs)(J.a.Group,{className:"text-left",children:[Object(_.jsx)(J.a.Label,{column:!0,sm:2,children:"ISBN"}),Object(_.jsx)(K.a,{sm:10,children:Object(_.jsx)(J.a.Control,{type:"text",name:"isbn",value:T,onChange:ne,placeholder:""})})]}),null===x||void 0===x||null===(r=x.isbn)||void 0===r?void 0:r.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsxs)(J.a.Group,{className:"text-left",children:[Object(_.jsx)(J.a.Label,{column:!0,sm:5,children:"Language orig."}),Object(_.jsx)(K.a,{sm:10,children:Object(_.jsx)(J.a.Control,{as:"select",value:R,onChange:ne,name:"lang_orig",rows:7,placeholder:"",children:re})})]}),null===x||void 0===x||null===(s=x.lang_orig)||void 0===s?void 0:s.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsxs)(J.a.Group,{className:"text-left",children:[Object(_.jsx)(J.a.Label,{column:!0,sm:2,children:"Language"}),Object(_.jsx)(K.a,{sm:10,children:Object(_.jsx)(J.a.Control,{as:"select",value:Z,onChange:ne,name:"lang",rows:7,placeholder:"",children:re})})]}),null===x||void 0===x||null===(o=x.lang)||void 0===o?void 0:o.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsxs)(J.a.Group,{className:"text-left",children:[Object(_.jsx)(J.a.Label,{column:!0,sm:2,children:"Translators"}),Object(_.jsx)(K.a,{sm:10,children:Object(_.jsx)(J.a.Control,{type:"text",name:"translators",value:Y,onChange:ne,placeholder:""})})]}),null===x||void 0===x||null===(j=x.translators)||void 0===j?void 0:j.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsxs)(J.a.Group,{className:"text-left",children:[Object(_.jsx)(J.a.Label,{column:!0,sm:2,children:"Genre"}),Object(_.jsx)(K.a,{sm:10,children:Object(_.jsx)(J.a.Control,{type:"text",name:"genre",value:V,onChange:ne,placeholder:""})})]}),null===x||void 0===x||null===(u=x.genre)||void 0===u?void 0:u.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsxs)(J.a.Group,{className:"text-left",children:[Object(_.jsx)(J.a.Label,{column:!0,sm:2,children:"Synopsis"}),Object(_.jsx)(K.a,{sm:10,children:Object(_.jsx)(J.a.Control,{as:"textarea",rows:6,name:"synopsis",value:ee,onChange:ne,placeholder:""})})]}),null===x||void 0===x||null===(d=x.synopsis)||void 0===d?void 0:d.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsx)(q.a,{className:"".concat(se.a.Button," ").concat(se.a.Blue),onClick:function(){return N.goBack()},children:"cancel"}),Object(_.jsx)(q.a,{className:"".concat(se.a.Button," ").concat(se.a.Blue),type:"submit",children:B?"update":"create"})]});return Object(_.jsx)(J.a,{onSubmit:ce,children:Object(_.jsxs)(X.a,{children:[Object(_.jsx)(K.a,{className:"py-2 p-0 p-md-2 text-center",md:4,lg:5,children:Object(_.jsxs)(b.a,{className:"".concat(ae.a.Content," ").concat(kt.a.Container),children:[Object(_.jsxs)(J.a.Group,{children:[te?Object(_.jsx)("figure",{children:Object(_.jsx)(z.a,{src:te,fluid:!0})}):Object(_.jsx)("figure",{children:Object(_.jsx)(z.a,{src:"data:image/png;base64,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",fluid:!0})}),null===x||void 0===x||null===(h=x.cover)||void 0===h?void 0:h.map((function(e,t){return Object(_.jsx)($.a,{variant:"warning",children:e},t)})),Object(_.jsx)("div",{children:Object(_.jsx)(J.a.Label,{className:"".concat(se.a.Button," ").concat(se.a.Blue," btn my-auto"),htmlFor:"image-upload",children:"Change the cover"})}),Object(_.jsx)(J.a.File,{id:"image-upload",ref:F,accept:"image/*",onChange:function(e){e.target.files.length&&M(Object(C.a)(Object(C.a)({},E),{},{cover:URL.createObjectURL(e.target.files[0])}))}})]}),Object(_.jsx)("div",{className:"".concat(kt.a.TextFieldsContainer," d-md-none"),children:oe})]})}),Object(_.jsx)(K.a,{md:5,lg:6,className:"d-none d-md-block p-0 p-md-2 text-center",children:Object(_.jsx)(b.a,{className:"".concat(kt.a.TextFieldsContainer," ").concat(ae.a.Content),children:oe})})]})})},wt=a(188),Nt=a.n(wt),At=function(e){e.message;var t=e.filter,a=void 0===t?"":t,c=Object(n.useState)({results:[]}),r=Object(m.a)(c,2),s=r[0],j=r[1],u=Object(n.useState)(!1),d=Object(m.a)(u,2),h=d[0],O=d[1],p=Object(o.useLocation)().pathname,x=Object(n.useState)(""),v=Object(m.a)(x,2),g=v[0],k=v[1],w=Object(je.useParams)().id,A=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("option",{value:"",children:" - No filter - "}),Object(_.jsx)("option",{value:"Want to read",children:"Want to read"}),Object(_.jsx)("option",{value:"Currently Reading",children:"Currently Reading"}),Object(_.jsx)("option",{value:"Read",children:"Read"}),Object(_.jsx)("option",{value:"To Check",children:"To Check"})]});return Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/bookmarks/?book=".concat(w,"&status=").concat(g));case 3:t=e.sent,a=t.data,j(a),O(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();O(!1);var t=setTimeout((function(){e()}),1e3);return function(){clearTimeout(t)}}),[a,g,p,w]),Object(_.jsxs)(X.a,{className:"h-100",children:[Object(_.jsxs)(K.a,{className:"py-2 p-0 p-lg-2",lg:8,children:[Object(_.jsx)($e,{mobile:!0}),Object(_.jsx)(J.a,{className:Nt.a.SearchBar,onSubmit:function(e){return e.preventDefault()},children:Object(_.jsx)(J.a.Control,{as:"select",value:g,onChange:function(e){return k(e.target.value)},className:"mr-sm-2",placeholder:"Search books",children:A})}),Object(_.jsx)("br",{}),h?Object(_.jsx)(_.Fragment,{children:s.results.length?Object(_.jsx)(Ye.a,{children:s.results.map((function(e){return Object(_.jsx)(ht,Object(C.a)(Object(C.a)({},e),{},{setBookmarks:j,onlyone:!1,showfooter:!1,fromBooksPage:!1}),e.id)})),dataLength:s.results.length,loader:Object(_.jsx)(xe,{spinner:!0}),hasMore:!!s.next,next:function(){return N(s,j)}}):Object(_.jsx)(b.a,{className:ae.a.Content,children:Object(_.jsx)(xe,{src:he,message:"No results found. Adjust the search keyword or add a new book."})})}):Object(_.jsx)(b.a,{className:ae.a.Content,children:Object(_.jsx)(xe,{spinner:!0})})]}),Object(_.jsx)(K.a,{md:4,className:"d-none d-lg-block p-0 p-lg-2",children:Object(_.jsx)($e,{})})]})},Bt=a.p+"static/media/page-not-found.40b7563e.png",It=a(189),yt=a.n(It),_t=function(){return Object(_.jsxs)("div",{className:"".concat(yt.a.PageNotFound," mt-2"),children:[Object(_.jsx)(xe,{src:Bt,message:Object(_.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:"Sorry, the page you're looking for doesn't exist"})}),Object(_.jsx)("div",{className:"d-flex justify-content-center",children:Object(_.jsx)(je.Link,{to:"/",children:Object(_.jsx)(q.a,{className:"".concat(se.a.Button," ").concat(se.a.Green," text-center mb-2"),children:"Return to homepage"})})})]})};a(280);var St=function(){var e=M(),t=(null===e||void 0===e?void 0:e.profile_id)||"";return Object(_.jsxs)("div",{className:ae.a.App,children:[Object(_.jsx)(T,{}),e?Object(_.jsx)(Y,{}):null,Object(_.jsxs)(b.a,{className:ae.a.Main,children:[Object(_.jsx)(W.NotificationContainer,{}),Object(_.jsxs)(o.Switch,{children:[Object(_.jsx)(o.Route,{exact:!0,path:"/",render:function(){return Object(_.jsx)(nt,{message:"No results found!"})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/feed",render:function(){return Object(_.jsx)(nt,{message:"No results found. Adjust the search keyword or follow a user.",filter:"owner__followed__owner__profile=".concat(t,"&")})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/liked",render:function(){return Object(_.jsx)(nt,{message:"No results found. Adjust the search keyword or like a post.",filter:"likes__owner__profile=".concat(t,"&ordering=-likes__created_on&")})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/comments/book/:id",render:function(){return Object(_.jsx)(nt,{message:"No results found. Adjust the search keyword or like a post.",filter:"book="})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/signin",render:function(){return Object(_.jsx)(le,{})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/signup",render:function(){return Object(_.jsx)(oe,{})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/comments/create",render:function(){return Object(_.jsx)(ge,{})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/comments/:id/create",render:function(){return Object(_.jsx)(ge,{})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/comments/:id",render:function(){return Object(_.jsx)(et,{})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/comments/:id/edit",render:function(){return Object(_.jsx)(ct,{})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/profiles/:id",render:function(){return Object(_.jsx)(ot,{})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/profiles/:id/edit/username",render:function(){return Object(_.jsx)(it,{})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/profiles/:id/edit/password",render:function(){return Object(_.jsx)(lt,{})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/profiles/:id/edit",render:function(){return Object(_.jsx)(jt,{})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/books",message:"No results found. Adjust the search keyword or add a new book.",render:function(){return Object(_.jsx)(mt,{})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/books/:id/edit",render:function(){return Object(_.jsx)(Ct,{})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/books/create/:newtitle",render:function(){return Object(_.jsx)(Ct,{})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/books/create",render:function(){return Object(_.jsx)(Ct,{})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/books/:id",render:function(){return Object(_.jsx)(xt,{})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/bookmarks/:id",render:function(){return Object(_.jsx)(At,{})}}),Object(_.jsx)(o.Route,{exact:!0,path:"/bookmarks",render:function(){return Object(_.jsx)(mt,{message:"No results found. Adjust the search keyword or like a post.",filter:"bookmark__owner__profile=".concat(t)})}}),Object(_.jsx)(o.Route,{render:function(){return Object(_.jsx)(_t,{})}})]})]})]})},Et=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,295)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(_.jsx)(j.a,{children:Object(_.jsx)(L,{children:Object(_.jsx)(Ke,{children:Object(_.jsx)(St,{})})})}),document.getElementById("root")),Et()},33:function(e,t,a){e.exports={NavBar:"NavBar_NavBar__1amC6",NavBarLarge:"NavBar_NavBarLarge__1vRuG",NavLink:"NavBar_NavLink__34ons",Active:"NavBar_Active__3PBZb"}},45:function(e,t,a){e.exports={Row:"SignInUpForm_Row__3PbVy",Input:"SignInUpForm_Input__3xaLZ",Header:"SignInUpForm_Header__3joQJ",Link:"SignInUpForm_Link__1BeMm",Container:"SignInUpForm_Container__2cuBp",SignInCol:"SignInUpForm_SignInCol__3ImPK",SignUpCol:"SignInUpForm_SignUpCol__28o4y"}},46:function(e,t,a){e.exports={NavBar:"SideNavBar_NavBar__3ImTJ",SideNavBar:"SideNavBar_SideNavBar__3CF58",NavLink:"SideNavBar_NavLink__2F-K-",Active:"SideNavBar_Active__1MW8_",Hr:"SideNavBar_Hr__FrkVR"}},81:function(e,t,a){e.exports={Form:"StickerCreateEditForm_Form__3VWUu",Button:"StickerCreateEditForm_Button__3--WF"}},94:function(e,t,a){e.exports={Comment:"Comment_Comment__4m8RQ",Heart:"Comment_Heart__1IeTu",HeartOutline:"Comment_HeartOutline__q0R2I",Image:"Comment_Image__3Qgll"}}},[[282,1,2]]]);
//# sourceMappingURL=main.18371d08.chunk.js.map